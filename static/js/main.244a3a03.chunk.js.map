{"version":3,"sources":["automata/Layout/index.js","automata/Editor/stylesheet.js","automata/Editor/index.js","automata/ZoomedModal/index.js","automata/Instructions/index.js","core/Heading/index.js","automata/helpers/index.ts","core/hooks/useHover/index.js","automata/Configurations/index.js","automata/MultipleInput/index.js","automata/MultipleInputEditor/index.js","automata/StepByStepControls/index.js","automata/Controls/Links/index.js","automata/Controls/index.js","automata/automata.fixtures.js","automata/index.js","App.js","serviceWorker.js","index.js"],"names":["Layout","props","react_default","a","createElement","View","style","styles","container","side","main","StyleSheet","create","flex","flexDirection","flexShrink","width","stylesheet","selector","background-color","background-image","border-color","border-width","color","content","height","text-valign","background-fit","transition-property","transition-duration","label","curve-style","target-arrow-shape","text-background-color","text-background-opacity","text-background-shape","border-style","line-color","line-style","target-arrow-color","edge-text-rotation","shape","overlay-opacity","border-opacity","source-arrow-color","opacity","UncontrolledCytoscape","react_cytoscape_default","this","React","Component","backgroundColor","labelInput","fontSize","outline","position","textAlign","transform","translateX","translateY","AutomataEditor","cyRef","useRef","inputEl","_useState","useState","undefined","_useState2","Object","slicedToArray","prevLayout","setPrevLayout","_useState3","stepping","_useState4","prevStepping","setPrevStepping","_useState5","configHovered","_useState6","prevConfigHovered","setPrevConfigHovered","_useState7","_useState8","editing","setEditing","useEffect","raf","cy","current","animOffset","animate","edges","line-dash-offset","requestAnimationFrame","cancelAnimationFrame","updateSteppingClasses","updateConfigHoveredClasses","layout","name","run","Editor_UncontrolledCytoscape","internal","edgehandles","preview","edgeType","sourceNode","targetNode","edgesTo","empty","loopAllowed","complete","addedEles","transitions","set","id","source","data","target","onEdgeEdit","first","onNodeEdit","e","node","_node$renderedPositio","renderedPosition","x","y","value","type","focus","edge","_edge$renderedMidpoin","renderedMidpoint","on","evt","cyTarget","add","Math","round","random","classes","isNode","_target$renderedPosit","elements","cyStylesheet","TextInput","selectTextOnFocus","ref","left","top","onChange","objectSpread","onBlur","$","concat","trans","get","i","length","getElementById","state","removeClass","addClass","config","parent","overlay","modal","borderRadius","padding","maxWidth","ZoomedModal","web","from","scale","to","showModal","tStyles","Fragment","heading","paddingTop","paddingBottom","text","marginBottom","textBottom","actions","Instructions","Text","Button","title","onPress","onClose","Heading","accessibilityRole","children","fontFamily","fontWeight","step","configuration","configs","unprocessedInput","unprocessed","forEach","transition","transLabel","startsWith","push","hash","input","substr","isConfigAccepted","finalStates","indexOf","resolveConfig","flatten","map","c","useHover","callback","Platform","OS","cacheRef","isHovered","setIsHovered","getNode","_touchableNode","_node","findDOMNode","findNode","addEventListener","resolve","handleMouseOver","handleMouseOut","removeEventListener","Configurations","rejected","Config","key","onHover","onConfigHover","configurations","touchableRef","hovering","configRejected","configFinal","processed","getProcessedStr","borderColor","borderWidth","cursor","boxShadow","MultipleInput","strings","string","Row","onInputPress","accepted","TouchableOpacity","row","rowAccepted","rowRejected","rowHoveredAccepted","rowHoveredRejected","borderTopColor","borderTopWidth","paddingLeft","paddingRight","rowHovered","MultipleInputEditor","currMultipleInput","join","multilineInput","setMultipleInput","column","headingSmall","editorText","multiline","placeholer","onSaveMultilineInput","split","columnEditor","es","accept","onDrop","files","rejectedFiles","alert","reader","FileReader","onload","result","readAsText","_ref","getRootProps","getInputProps","isDragActive","assign","upload","uploadDragActive","uploadLabel","or","orText","alignItems","justifyContent","marginLeft","marginTop","lineHeight","Controls","inputString","onInputStringChange","placeholder","controls","control","onPlay","controlGap","onNext","borderStyle","display","alignContent","Links","howToUseRef","howToUseHover","sourceCodeRef","sourceCodeHover","issueRef","issueHover","linkContainer","link","linkHover","openModal","href","linkBottom","authorLinkContainer","authorLink","borderBottomColor","borderBottomWidth","marginRight","navLink","tab","setTab","setShowModal","rejectedConfigs","setLayout","saveAsImage","multipleInput","multipleInputConfigs","subheading","dist_default","transparent","isVisible","onBackdropPress","NavButton","Picker","selectedValue","onValueChange","Item","Controls_Links","borderRightWidth","overflow","q0","q1","q2","q3","q4","states","Map","toConsumableArray","Array","values","initialConfig","arguments","Automata","setConfigs","configBeingHovered","setConfigBeingHovered","_useState9","_useState10","_useState11","_useState12","setMultipleInputConfigs","_useState13","_useState14","setRejectedConfigs","_useState15","_useState16","setInputString","automata_ZoomedModal","Editor","automata_Instructions","Controls_Controls","newConfigs","newRejectedConfigs","stepConfigs","hoveringIn","image","jpeg","png","url","replace","window","open","App","Boolean","location","hostname","match","Cytoscape","use","AppRegistry","registerComponent","runApplication","initialProps","rootTag","document","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"uRAGe,SAASA,EAAOC,GAC7B,OACEC,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMC,MAAOC,EAAOC,WAClBN,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMC,MAAOC,EAAOE,MAAOR,EAAMQ,MACjCP,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMC,MAAOC,EAAOG,MAAOT,EAAMS,OAKvC,IAAMH,EAASI,IAAWC,OAAO,CAC/BJ,UAAW,CACTK,KAAM,EACNC,cAAe,OAEjBJ,KAAM,CACJI,cAAe,SACfD,KAAM,GAERJ,KAAM,CACJK,cAAe,SACfC,WAAY,EACZC,MAAO,iCCxBIC,EAAA,CACb,CACEC,SAAU,OACVZ,MAAO,CACLa,mBAAoB,QACpBC,mBAAoB,yBACpBC,eAAgB,QAChBC,eAAgB,EAChBC,MAAO,QACPC,QAAS,cACTC,OAAQ,GACRC,cAAe,SACfV,MAAO,KAGX,CACEE,SAAU,yBACVZ,MAAO,CACLqB,iBAAkB,QAClBP,mBAAoB,2BAGxB,CACEF,SAAU,2BACVZ,MAAO,CACLe,eAAgB,SAGpB,CACEH,SAAU,4BACVZ,MAAO,CACLa,mBAAoB,UACpBS,sBAAuB,mBACvBC,sBAAuB,SAG3B,CACEX,SAAU,OACVZ,MAAO,CACLwB,MAAO,cACPC,cAAe,SACfC,qBAAsB,WACtBhB,MAAO,IACPiB,wBAAyB,QACzBC,0BAA2B,IAC3BC,wBAAyB,cAG7B,CACEjB,SAAU,gCACVZ,MAAO,CACLe,eAAgB,UAChBe,eAAgB,SAChBd,eAAgB,IAGpB,CACEJ,SAAU,gCACVZ,MAAO,CACL+B,aAAc,UACdC,aAAc,SACdC,qBAAsB,UACtBvB,MAAO,IAGX,CACEE,SAAU,kBACVZ,MAAO,CACLkC,qBAAsB,eAG1B,CACEtB,SAAU,aACVZ,MAAO,CACLa,mBAAoB,MACpBH,MAAO,GACPS,OAAQ,GACRgB,MAAO,UACPC,kBAAmB,EACnBpB,eAAgB,GAChBqB,iBAAkB,IAGtB,CACEzB,SAAU,YACVZ,MAAO,CACLa,mBAAoB,QAGxB,CACED,SAAU,aACVZ,MAAO,CACLgB,eAAgB,EAChBD,eAAgB,QAGpB,CACEH,SAAU,aACVZ,MAAO,CACLgB,eAAgB,EAChBD,eAAgB,QAGpB,CACEH,SAAU,8BACVZ,MAAO,CACLa,mBAAoB,MACpBkB,aAAc,MACdE,qBAAsB,MACtBK,qBAAsB,QAG1B,CACE1B,SAAU,mCACVZ,MAAO,CACLuC,QAAS,SC2HTC,kMAEF,OAAO,mCAIP,OAAO5C,EAAAC,EAAAC,cAAC2C,EAAA5C,EAAc6C,KAAK/C,cANKgD,IAAMC,WAUpC3C,EAASI,IAAWC,OAAO,CAC/BJ,UAAW,CACTK,KAAM,EACNsC,gBAAiB,UACjBnC,MAAO,QAEToC,WAAY,CACVC,SAAU,GACVC,QAAS,OACTC,SAAU,WACVC,UAAW,SACXC,UAAW,CAAC,CAAEC,WAAY,QAAU,CAAEC,WAAY,YAIvCC,EAlQR,SAAwB3D,GAC7B,IAAM4D,EAAQC,iBAAO,MACfC,EAAUD,iBAAO,MAFaE,EAGAC,wBAASC,GAHTC,EAAAC,OAAAC,EAAA,EAAAD,CAAAJ,EAAA,GAG7BM,EAH6BH,EAAA,GAGjBI,EAHiBJ,EAAA,GAAAK,EAIIP,mBAAShE,EAAMwE,UAJnBC,EAAAN,OAAAC,EAAA,EAAAD,CAAAI,EAAA,GAI7BG,EAJ6BD,EAAA,GAIfE,EAJeF,EAAA,GAAAG,EAKcZ,mBAChDhE,EAAM6E,eAN4BC,EAAAX,OAAAC,EAAA,EAAAD,CAAAS,EAAA,GAK7BG,EAL6BD,EAAA,GAKVE,EALUF,EAAA,GAAAG,EAQNjB,mBAAS,MARHkB,EAAAf,OAAAC,EAAA,EAAAD,CAAAc,EAAA,GAQ7BE,EAR6BD,EAAA,GAQpBE,EARoBF,EAAA,GAuJpC,OA7IAG,oBACE,WACE,IACIC,EADEC,EAAK3B,EAAM4B,QAEbC,EAAa,EAYjB,OAVA,SAASC,IACPD,IACAF,EAAGI,QAAQD,QAAQ,CACjBrF,MAAO,CAAEuF,oBAAqBH,KAEhCH,EAAMO,sBAAsBH,GAG9BA,GAEO,WACDJ,GACFQ,qBAAqBR,KAI3B,CAAC,SA2FHS,IACAC,IAEIhG,EAAMiG,SAAW5B,IACnBC,EAActE,EAAMiG,QAChBrC,EAAM4B,SACR5B,EAAM4B,QAAQS,OAAO,CAAEC,KAAMlG,EAAMiG,SAAUE,OAuB/ClG,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMC,MAAOC,EAAOC,WAClBN,EAAAC,EAAAC,cAACiG,EAAD,CACEb,GAvHQ,SAAAc,GACZzC,EAAM4B,QAAUa,EAChBrG,EAAMuF,GAAGc,GAET,IAAMd,EAAK3B,EAAM4B,QACjBD,EAAGe,YAAY,CACbC,SAAS,EACTC,SAAU,SAASC,EAAYC,GAC7B,OAAOD,EAAWE,QAAQD,GAAYE,QAAU,OAAS,MAE3DC,YAAa,WACX,OAAO,GAETC,SAyCF,SAAsBL,EAAYC,EAAYK,GAE5C/G,EAAMgH,YAAYC,IAAIF,EAAUG,KAAM,CACpCA,GAAIH,EAAUG,GACdrF,MAAOkF,EAAUlF,MACjBsF,OAAQ,CAAEC,KAAMX,EAAWW,QAC3BC,OAAQ,CAAED,KAAMV,EAAWU,UAG7BE,EAAW,CAAED,OAAQN,EAAUQ,aA/CjC,IAwBMC,EAAa,SAAAC,GACjB,IAAMC,EAAOD,EAAEJ,OADOM,EAELD,EAAKE,mBAAdC,EAFcF,EAEdE,EAAGC,EAFWH,EAEXG,EAEX1C,EAAW,CACTyC,IACAC,IACAZ,GAAIQ,EAAKR,KACTa,MAAOL,EAAKN,KAAK,SACjBY,KAAM,SAERlE,EAAQ0B,QAAQyC,QAChBP,EAAKN,KAAK,QAAS,KAafE,EAAa,SAAAG,GACjB,IAAMS,EAAOT,EAAEJ,OADOc,EAELD,EAAKE,mBAAdP,EAFcM,EAEdN,EAAGC,EAFWK,EAEXL,EAEX1C,EAAW,CACTyC,IACAC,IACAZ,GAAIgB,EAAKhB,KACTa,MAAOG,EAAKd,KAAK,SACjBY,KAAM,SAERlE,EAAQ0B,QAAQyC,QAChBC,EAAKd,KAAK,QAAS,KAGrB7B,EAAG8C,GAAG,MAhEiB,SAAAC,GAErB,IADeA,EAAIjB,QAAUiB,EAAIC,YAClBhD,EAAI,CACjB,IAAMmC,EAAOnC,EAAGiD,IAAI,CAClBpB,KAAM,CAEJF,GAAI,MAAQuB,KAAKC,MAAsB,IAAhBD,KAAKE,UAC5B9G,MAAO,IAETyB,SAAU,CACRuE,EAAGS,EAAIhF,SAASuE,EAChBC,EAAGQ,EAAIhF,SAASwE,GAElBc,QAAS,CAAC,gBAEZpB,EAAW,CAAEH,OAAQK,OAkDzBnC,EAAG8C,GAAG,UAAW,kBAAmBb,GACpCjC,EAAG8C,GAAG,UAAW,OAAQf,GACzB/B,EAAG8C,GAAG,SAjDe,SAAAZ,GACnB,IAAMJ,EAASI,EAAEJ,QAAUI,EAAEc,SAC7B,GAAIlB,EAAOwB,SAAU,KAAAC,EACFzB,EAAOO,mBADLkB,EACXjB,EADWiB,EACRhB,KA+Cf/B,IACAC,KAmCIC,OAAQjG,EAAMiG,OAAS,CAAEC,KAAMlG,EAAMiG,QAAW,KAChD8C,SAAU/I,EAAM+I,SAChB/H,WAAYgI,EACZ3I,MAAO,CAAEmB,OAAQ,OAAQT,MAAO,UAEjCoE,GACClF,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CACEC,mBAAiB,EACjBC,IAAKrF,EACLzD,MAAO,CAACC,EAAO6C,WAAY,CAAEiG,KAAMjE,EAAQ0C,EAAGwB,IAAKlE,EAAQ2C,IAC3DC,MAAO5C,EAAQ4C,MACfuB,SAjCqB,SAAA7B,GAC3BrC,EAAWjB,OAAAoF,EAAA,EAAApF,CAAA,GAAKgB,EAAN,CAAe4C,MAAON,EAAEJ,OAAOU,UAiCnCyB,OA/BqB,SAAA/B,GAChB7D,EAAM4B,QAEdiE,EAAH,IAAAC,OAASvE,EAAQ+B,KAAME,KAAK,QAASK,EAAEJ,OAAOU,OAI9C,IAAM4B,EAAQ3J,EAAMgH,YAAY4C,IAAIzE,EAAQ+B,IACxCyC,GAA0B,SAAjBxE,EAAQ6C,OACnB2B,EAAM9H,MAAQ4F,EAAEJ,OAAOU,OAGzB3C,EAAW,UAyBb,SAASW,IACP,GAAKnC,EAAM4B,SACPxF,EAAMwE,WAAaE,EAAc,CACnC,IAAK,IAAImF,EAAI,EAAGA,EAAInF,EAAaoF,OAAQD,IACvCjG,EAAM4B,QACHuE,eAAerF,EAAamF,GAAGG,MAAM5C,KAAKF,IAC1C+C,YAAY,wBAEjBtF,EAAgB3E,EAAMwE,UAEtB,IAAK,IAAIqF,EAAI,EAAGA,EAAI7J,EAAMwE,SAASsF,OAAQD,IACzCjG,EAAM4B,QACHuE,eAAe/J,EAAMwE,SAASqF,GAAGG,MAAM5C,KAAKF,IAC5CgD,SAAS,yBAKlB,SAASlE,IACP,GAAKpC,EAAM4B,SAGPxF,EAAM6E,gBAAkBE,EAE1B,GADAC,EAAqBhF,EAAM6E,eACvB7E,EAAM6E,cAAe,CACvB,IAAIsF,EAASnK,EAAM6E,cACnB,EAAG,CACD,IAAM6C,EAAO9D,EAAM4B,QAAQuE,eAAeI,EAAOH,MAAM5C,KAAKF,IAC5DQ,EAAKwC,SAAS,4BAEVC,EAAOC,QACMxG,EAAM4B,QAAQuE,eAC3BI,EAAOC,OAAOJ,MAAM5C,KAAKF,IAEpBP,QAAQe,GAAMwC,SAAS,4BAGhCC,EAASA,EAAOC,aACTD,QACJ,GAAIpF,EAAmB,CAC5B,IAAIoF,EAASpF,EACb,EAAG,CACD,IAAM2C,EAAO9D,EAAM4B,QAAQuE,eAAeI,EAAOH,MAAM5C,KAAKF,IAC5DQ,EAAKuC,YAAY,4BAEbE,EAAOC,QACMxG,EAAM4B,QAAQuE,eAC3BI,EAAOC,OAAOJ,MAAM5C,KAAKF,IAEpBP,QAAQe,GAAMuC,YAAY,4BAGnCE,EAASA,EAAOC,aACTD,eC7MjB,IAAM7J,EAASI,IAAWC,OAAO,CAC/BJ,UAAW,CACT+C,SAAU,WACV9B,OAAQ,OACRT,MAAO,QAETN,KAAM,CACJe,OAAQ,OACRT,MAAO,QAETsJ,QAAS,CACPnH,gBAAiB,qBACjBI,SAAU,WACV9B,OAAQ,OACRT,MAAO,QAETuJ,MAAO,CACLpH,gBAAiB,QACjBqH,aAAc,EACdC,QAAS,GACTlH,SAAU,WACV+F,IAAK,MACLD,KAAM,MACN5F,UAAW,CAAC,CAAEC,WAAY,QAAU,CAAEC,WAAY,SAClD+G,SAAU,IACV1J,MAAO,SAII2J,EAnDR,SAAqB1K,GAC1B,OACEC,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMC,MAAOC,EAAOC,WAClBN,EAAAC,EAAAC,cAACwK,EAAA,EAAD,CAAQC,KAAM,CAAEC,MAAO,GAAOC,GAAI,CAAED,MAAO7K,EAAM+K,UAAY,GAAM,IAChE,SAAAC,GAAO,OACN/K,EAAAC,EAAAC,cAACC,EAAA,EAAD,CACEC,MAAO,CAAC,CAAEmD,UAAW,CAAC,CAAEqH,MAAOG,EAAQH,SAAYvK,EAAOG,OAEzDT,EAAMS,QAIZT,EAAM+K,WACL9K,EAAAC,EAAAC,cAACF,EAAAC,EAAM+K,SAAP,KACEhL,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMC,MAAOC,EAAO+J,UACpBpK,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMC,MAAOC,EAAOgK,OAAQtK,EAAMsK,0BCQ5C,IAAMhK,EAASI,IAAWC,OAAO,CAC/BJ,UAAW,GACX2K,QAAS,CACP3H,UAAW,SACXH,SAAU,GACV+H,WAAY,EACZC,cAAe,IAEjBC,KAAM,CACJC,aAAc,GAEhBC,WAAY,CACVD,aAAc,IAEhBE,QAAS,CACPjI,UAAW,YAIAkI,EA3CR,SAAsBzL,GAC3B,OACEC,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMC,MAAOC,EAAOC,WAClBN,EAAAC,EAAAC,cAACuL,EAAA,EAAD,CAAMrL,MAAOC,EAAO4K,SAApB,6DAGAjL,EAAAC,EAAAC,cAACuL,EAAA,EAAD,CAAMrL,MAAOC,EAAO+K,MAApB,oDAGApL,EAAAC,EAAAC,cAACuL,EAAA,EAAD,CAAMrL,MAAOC,EAAO+K,MAApB,4CACApL,EAAAC,EAAAC,cAACuL,EAAA,EAAD,CAAMrL,MAAOC,EAAO+K,MAApB,sDAGApL,EAAAC,EAAAC,cAACuL,EAAA,EAAD,CAAMrL,MAAOC,EAAOiL,YAApB,0FAIAtL,EAAAC,EAAAC,cAACuL,EAAA,EAAD,CAAMrL,MAAOC,EAAOkL,SAClBvL,EAAAC,EAAAC,cAACwL,EAAA,EAAD,CAAQC,MAAM,gBAAgBC,QAAS7L,EAAM8L,wCClBtC,SAASC,EAAQ/L,GAC9B,OACEC,EAAAC,EAAAC,cAACuL,EAAA,EAAD,CAAMM,kBAAkB,UAAU3L,MAAO,CAACC,EAAO4K,QAASlL,EAAMK,QAC7DL,EAAMiM,UAKb,IAAM3L,EAASI,IAAWC,OAAO,CAC/BuK,QAAS,CACPgB,WAAY,aACZC,WAAY,MACZ/I,SAAU,UCkBP,SAASgJ,EACdpF,EACAqF,GAEA,IAAMC,EAAwC,GACxCC,EAAmBF,EAAcG,YAsBvC,OAnBAxF,EAAYyF,QAAQ,SAACC,GACnB,GAAIL,EAAcrC,MAAM5C,KAAKF,KAAOwF,EAAWvF,OAAOC,KAAKF,GAA3D,CAIA,IAAMyF,EAAaD,EAAW7K,MAE1B0K,EAAiBK,WAAWD,IAC9BL,EAAQO,KAAK,CAEXC,KAAM,GAAKrE,KAAKE,SAChByB,OAAQiC,EACRrC,MAAO0C,EAAWrF,OAClB0F,MAAOV,EAAcU,MACrBP,YAAaD,EAAiBS,OAAOL,EAAW7C,aAK/CwC,EAGF,SAASW,EAAiBC,EAA4B/C,GAC3D,OACgC,IAA9BA,EAAOqC,YAAY1C,SAC+B,IAA/CoD,EAAYC,QAAQhD,EAAOH,MAAM5C,KAAKF,IAItC,SAASkG,EACdpG,EACAqF,EACAa,GAEA,IAA2B/C,EACvBmC,EAAU,CAACD,GAEf,EAAG,CACD,IAAK,IAAIxC,EAAI,EAAGA,EAAIyC,EAAQxC,OAAQD,IAClC,GALuBM,EAKDmC,EAAQzC,GAL2BoD,EAAiBC,EAAa/C,GAMrF,OAAOmC,EAAQzC,GAInByC,EAAUe,IAAQf,EAAQgB,IAAI,SAAAC,GAAC,OAAInB,EAAKpF,EAAauG,YAC3B,IAAnBjB,EAAQxC,QAEjB,OAAO,yBC/EM,SAAS0D,EAASrE,EAAKsE,GACpC,GAAoB,QAAhBC,IAASC,GAAc,OAAO,EAElC,IAAMC,EAAW/J,kBAAO,GAHsBE,EAIZC,oBAAS,GAJGE,EAAAC,OAAAC,EAAA,EAAAD,CAAAJ,EAAA,GAIvC8J,EAJuC3J,EAAA,GAI5B4J,EAJ4B5J,EAAA,GAyC9C,OAnCAmB,oBACE,WACE,IAAMqC,EAoCL,SAAkByB,GACvB,IAAIzB,EAAOyB,IAAQA,EAAI3D,SAAW2D,GAE9BzB,GAAQA,EAAKqG,SAAWrG,EAAKqG,YAAWrG,EAAOA,EAAKqG,WAEpDrG,GAAQA,EAAKsG,iBAAgBtG,EAAOA,EAAKsG,gBAEzCtG,GAAQA,EAAKuG,QAAOvG,EAAOA,EAAKuG,OAEhB,QAAhBP,IAASC,KAAcjG,EAAOwG,sBAAYxG,IAE9C,OAAOA,EA/CUyG,CAAShF,GAEtB,GAAMzB,GAAyC,oBAA1BA,EAAK0G,iBAA1B,CAEA,IAAMC,EAAU,SAAAtG,GACV6F,EAASpI,UAAYuC,IAEzB6F,EAASpI,QAAUuC,EAEf0F,EACFA,EAAS1F,GAIX+F,EAAa/F,KAGTuG,EAAkB,kBAAMD,GAAQ,IAChCE,EAAiB,kBAAMF,GAAQ,IAKrC,OAHA3G,EAAK0G,iBAAiB,aAAcE,GACpC5G,EAAK0G,iBAAiB,aAAcG,GAE7B,WACA7G,IAELA,EAAK8G,oBAAoB,aAAcF,GACvC5G,EAAK8G,oBAAoB,aAAcD,OAG3C,CAACpF,GAAOA,EAAI3D,QAASiI,IAGhBI,EC7CM,SAASY,EAAezO,GACrC,OACEC,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMC,MAAOC,EAAOC,WACjBP,EAAM0O,SAASpB,IAAI,SAAAnD,GAAM,OACxBlK,EAAAC,EAAAC,cAACwO,EAAD,CACED,UAAQ,EACRE,IAAKzE,EAAO2C,KACZ3C,OAAQA,EACR0E,QAAS7O,EAAM8O,cACf5B,YAAalN,EAAMkN,gBAGtBlN,EAAM+O,eAAezB,IAAI,SAAAnD,GAAM,OAC9BlK,EAAAC,EAAAC,cAACwO,EAAD,CACEC,IAAKzE,EAAO2C,KACZ3C,OAAQA,EACR0E,QAAS7O,EAAM8O,cACf5B,YAAalN,EAAMkN,iBAO7B,SAASyB,EAAO3O,GACd,IAAMgP,EAAenL,iBAAO,MADPE,EAEaC,oBAAS,GAFtBE,EAAAC,OAAAC,EAAA,EAAAD,CAAAJ,EAAA,GAEd8J,EAFc3J,EAAA,GAEH4J,EAFG5J,EAAA,GAQrB,OALAsJ,EAASwB,EAAc,SAAAC,GACrBnB,EAAamB,GACbjP,EAAM6O,QAAQ7O,EAAMmK,OAAQ8E,KAI5BhP,EAAAC,EAAAC,cAACC,EAAA,EAAD,CACE+I,IAAK6F,EACL3O,MAAO,CACLC,EAAO6J,SACL0D,GAAavN,EAAOuE,cACtB7E,EAAM0O,UAAYpO,EAAO4O,eACzBjC,EAAiBjN,EAAMkN,YAAalN,EAAMmK,SAAW7J,EAAO6O,cAG9DlP,EAAAC,EAAAC,cAACuL,EAAA,EAAD,KAAO1L,EAAMmK,OAAOH,MAAM5C,KAAKvF,OAC/B5B,EAAAC,EAAAC,cAACuL,EAAA,EAAD,KACEzL,EAAAC,EAAAC,cAACuL,EAAA,EAAD,CAAMrL,MAAOC,EAAO8O,WAAYC,EAAgBrP,EAAMmK,SACtDlK,EAAAC,EAAAC,cAACuL,EAAA,EAAD,CAAMrL,MAAOC,EAAOkM,aAAcxM,EAAMmK,OAAOqC,eAOvD,IAAM6C,EAAkB,SAAAlF,GAAM,OAC5BA,EAAO4C,MAAMC,OAAO,EAAG7C,EAAO4C,MAAMjD,OAASK,EAAOqC,YAAY1C,SAE5DxJ,EAASI,IAAWC,OAAO,CAC/BJ,UAAW,CACTM,cAAe,UAEjBsJ,OAAQ,CACNmF,YAAa,qBACb/E,aAAc,EACdgF,YAAa,EACbjE,aAAc,EACdd,QAAS,EACTgF,OAAQ,UACRhO,OAAQ,IAEVqD,cAAe,CACbyK,YAAa,sBACbG,UAAW,qCAEbP,eAAgB,CACdhM,gBAAiB,WAEnBiM,YAAa,CACXjM,gBAAiB,WAEnBkM,UAAW,CACT9N,MAAO,SAETkL,YAAa,CACXlL,MAAO,iBCnFI,SAASoO,EAAc1P,GACpC,OACEC,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACGJ,EAAM2P,QAAQrC,IAAI,SAACsC,EAAQ/F,GAAT,OACjB5J,EAAAC,EAAAC,cAAC0P,EAAD,CACEjB,IAAKgB,EACLA,OAAQA,EACRzF,OAAQnK,EAAMsM,QAAQzC,GACtBgF,QAAS7O,EAAM8O,cACfgB,aAAc9P,EAAM8P,kBAO9B,SAASD,EAAI7P,GACX,IAAMgP,EAAenL,iBAAO,MADVE,EAEgBC,oBAAS,GAFzBE,EAAAC,OAAAC,EAAA,EAAAD,CAAAJ,EAAA,GAEX8J,EAFW3J,EAAA,GAEA4J,EAFA5J,EAAA,GAGlBsJ,EAASwB,EAAc,SAAAC,GACrBnB,EAAamB,GACbjP,EAAM6O,QAAQ7O,EAAMmK,OAAQ8E,KAE9B5J,oBACE,WACE,OAAO,WACLrF,EAAM6O,QAAQ7O,EAAMmK,QAAQ,KAGhC,CAAC,SAGH,IAAM4F,IAAa/P,EAAMmK,OAEzB,OACElK,EAAAC,EAAAC,cAAC6P,EAAA,EAAD,CAAkBnE,QAAS,kBAAM7L,EAAM8P,aAAa9P,EAAM4P,UACxD3P,EAAAC,EAAAC,cAACC,EAAA,EAAD,CACE+I,IAAK6F,EACL3O,MAAO,CACLC,EAAO2P,IACPF,GAAYzP,EAAO4P,aAClBH,GAAYzP,EAAO6P,YACpBJ,GAAYlC,GAAavN,EAAO8P,oBAC/BL,GAAYlC,GAAavN,EAAO+P,qBAGnCpQ,EAAAC,EAAAC,cAACuL,EAAA,EAAD,KAAO1L,EAAM4P,UAMrB,IAAMtP,EAASI,IAAWC,OAAO,CAC/BsP,IAAK,CACHK,eAAgB,mBAChB/F,aAAc,EACdgG,eAAgB,EAChBf,OAAQ,UACRlE,aAAc,EACdkF,YAAa,EACbC,aAAc,EACdtF,WAAY,EACZC,cAAe,GAEjB8E,YAAa,CACXhN,gBAAiB,WAEnBiN,YAAa,CACXjN,gBAAiB,WAEnBwN,WAAY,CACVxN,gBAAiB,oBAEnBkN,mBAAoB,CAClBlN,gBAAiB,WAEnBmN,mBAAoB,CAClBnN,gBAAiB,sBC5EN,SAASyN,EAAoB3Q,GAAO,IAAA+D,EACNC,mBACzChE,EAAM4Q,kBAAkBC,KAAK,OAFkB3M,EAAAC,OAAAC,EAAA,EAAAD,CAAAJ,EAAA,GAC1C+M,EAD0C5M,EAAA,GAC1B6M,EAD0B7M,EAAA,GAuBjD,OACEjE,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMC,MAAOC,GAAOC,WAClBN,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMC,MAAOC,GAAO0Q,QAClB/Q,EAAAC,EAAAC,cAAC4L,EAAD,CAAS1L,MAAOC,GAAO4K,SAAvB,kBAEEjL,EAAAC,EAAAC,cAACuL,EAAA,EAAD,CAAMrL,MAAOC,GAAO2Q,cAApB,qCAIFhR,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CACE5I,MAAOC,GAAO4Q,WACdnJ,MAAO+I,EACPxH,SA/BuB,SAAA7B,GAC7BsJ,EAAiBtJ,EAAEJ,OAAOU,QA+BpBoJ,WAAS,EACTC,WAAW,gBAEbnR,EAAAC,EAAAC,cAACwL,EAAA,EAAD,CAAQC,MAAM,OAAOC,QAhCE,SAAApE,GAC3BzH,EAAMqR,qBAAqBP,EAAeQ,MAAM,WAiC9CrR,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMC,MAAO,CAACC,GAAO0Q,OAAQ1Q,GAAOiR,eAClCtR,EAAAC,EAAAC,cAACqR,EAAA,EAAD,CAAUC,OAAO,aAAaC,OAhCrB,SAACC,EAAOC,GACQ,IAAzBA,EAAc9H,QAEhB+H,MAAM,yCAGR,IAAMC,EAAS,IAAIC,WACnBD,EAAOE,OAAS,SAASvK,GACvBzH,EAAMqR,qBAAqB5J,EAAEJ,OAAO4K,OAAOX,MAAM,QAEnDQ,EAAOI,WAAWP,EAAM,GAAI,WAuBrB,SAAAQ,GAAA,IAAGC,EAAHD,EAAGC,aAAcC,EAAjBF,EAAiBE,cAAeC,EAAhCH,EAAgCG,aAAhC,OACCrS,EAAAC,EAAAC,cAAA,MAAAgE,OAAAoO,OAAA,GACMH,IADN,CAEE/R,MAAK8D,OAAAoF,EAAA,EAAApF,CAAA,GACA7D,GAAOkS,OACNF,EAAehS,GAAOmS,iBAAmB,MAG9CH,EACC,qBAEArS,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OAAKE,MAAOC,GAAOoS,aAAnB,mBACAzS,EAAAC,EAAAC,cAAA,SAAOE,MAAOC,GAAOoS,aAArB,MACAzS,EAAAC,EAAAC,cAAA,0CAGJF,EAAAC,EAAAC,cAAA,QAAWkS,SAKnBpS,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMC,MAAOC,GAAOqS,IAClB1S,EAAAC,EAAAC,cAACuL,EAAA,EAAD,CAAMrL,MAAOC,GAAOsS,QAApB,QAMR,IAAMtS,GAASI,IAAWC,OAAO,CAC/BJ,UAAW,CACT+C,SAAU,WACV1C,KAAM,EACNC,cAAe,MACfW,OAAQ,OACRT,MAAO,QAET4R,GAAI,CACFrP,SAAU,WACV8F,KAAM,MACNC,IAAK,MACL7F,UAAW,CAAC,CAAEC,WAAY,QAAU,CAAEC,WAAY,SAClDmP,WAAY,SACZC,eAAgB,SAChB5P,gBAAiB,QACjBqH,aAAc,GACdkF,UAAW,8BACXjO,OAAQ,GACRT,MAAO,IAET6R,OAAQ,CACNxP,SAAU,IAEZ4N,OAAQ,CACNxG,QAAS,GACT5J,KAAM,GAERsK,QAAS,CACP9H,SAAU,GACVgI,cAAe,GAEjB6F,aAAc,CACZ7N,SAAU,GACV2P,WAAY,EACZzR,MAAO,WAETiQ,aAAc,CACZrO,gBAAiB,WAEnBgO,WAAY,CACVzB,UAAW,wBACXjO,OAAQ,OACRgJ,QAAS,EACTwI,UAAW,EACX1H,aAAc,EACd2H,WAAY,GACZ5P,QAAS,UCzHE,SAAS6P,GAASlT,GAC/B,OACEC,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACEH,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CACElB,MAAO/H,EAAMmT,YACb7J,SAAUtJ,EAAMoT,oBAChB/S,MAAOC,GAAOyM,MACdsG,YAAY,iBAEdpT,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMC,MAAOC,GAAOgT,UAClBrT,EAAAC,EAAAC,cAACwL,EAAA,EAAD,CAAQtL,MAAOC,GAAOiT,QAAS3H,MAAM,OAAOC,QAAS7L,EAAMwT,SAC3DvT,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMC,MAAOC,GAAOmT,aACpBxT,EAAAC,EAAAC,cAACwL,EAAA,EAAD,CAAQtL,MAAOC,GAAOiT,QAAS3H,MAAM,OAAOC,QAAS7L,EAAM0T,WDiHnEpT,GAAOkS,OAAS,CACdjD,YAAa,EACboE,YAAa,SACbrE,YAAa,UACbE,OAAQ,UACRoE,QAAS,OACThT,KAAM,EACNC,cAAe,SACfgT,aAAc,SACdf,eAAgB,SAChBtR,OAAQ,OAERF,MAAO,UACP8B,SAAU,GACVG,UAAW,UAEbjD,GAAOmS,iBAAmB,CACxBnR,MAAO,UACPgO,YAAa,WAEfhP,GAAOoS,YAAc,CACnBkB,QAAS,QACTxI,cAAe,GCjIjB,IAAM9K,GAASI,IAAWC,OAAO,CAC/BoM,MAAO,CACL7J,gBAAiB,yBACjBE,SAAU,GACVkI,aAAc,EACdjI,QAAS,OACTmH,QAAS,GAEX8I,SAAU,CACRzS,cAAe,MACfyK,aAAc,GAEhBmI,WAAY,CACV1S,MAAO,KC2BI+S,OAzDf,SAAe9T,GACb,IAAM+T,EAAclQ,iBAAO,MACrBmQ,EAAgBxG,EAASuG,GAEzBE,EAAgBpQ,iBAAO,MACvBqQ,EAAkB1G,EAASyG,GAE3BE,EAAWtQ,iBAAO,MAClBuQ,EAAa5G,EAAS2G,GAE5B,OACElU,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACEH,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAM+I,IAAK4K,EAAa1T,MAAOC,GAAO+T,eACpCpU,EAAAC,EAAAC,cAACuL,EAAA,EAAD,CACErL,MAAO,CAACC,GAAOgU,KAAMN,GAAiB1T,GAAOiU,WAC7C1I,QAAS7L,EAAMwU,WAFjB,eAOFvU,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAM+I,IAAK8K,EAAe5T,MAAOC,GAAO+T,eACtCpU,EAAAC,EAAAC,cAACuL,EAAA,EAAD,CACErL,MAAO,CAACC,GAAOgU,KAAMJ,GAAmB5T,GAAOiU,WAC/CvI,kBAAkB,OAClB3E,OAAO,SACPoN,KAAK,qCAJP,gBASFxU,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAM+I,IAAKgL,EAAU9T,MAAO,CAACC,GAAO+T,cAAe/T,GAAOoU,aACxDzU,EAAAC,EAAAC,cAACuL,EAAA,EAAD,CACErL,MAAO,CAACC,GAAOgU,KAAMF,GAAc9T,GAAOiU,WAC1CvI,kBAAkB,OAClB3E,OAAO,SACPoN,KAAK,4CAJP,kBASFxU,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACEH,EAAAC,EAAAC,cAACuL,EAAA,EAAD,CAAMrL,MAAOC,GAAOqU,qBAClB1U,EAAAC,EAAAC,cAACuL,EAAA,EAAD,iBACAzL,EAAAC,EAAAC,cAACuL,EAAA,EAAD,CACErL,MAAOC,GAAOsU,WACd5I,kBAAkB,OAClB3E,OAAO,SACPoN,KAAK,8BAJP,qBAgBJnU,GAASI,IAAWC,OAAO,CAC/B0T,cAAe,CACb/D,eAAgB,sBAChBC,eAAgB,GAElBmE,WAAY,CACVG,kBAAmB,sBACnBC,kBAAmB,GAErBR,KAAM,CACJpI,WAAY,aACZ9I,SAAU,GACVmH,aAAc,EACdjJ,MAAO,UACPsS,QAAS,QACTb,YAAa,GACbgC,aAAc,GACd3J,cAAe,EACfoF,YAAa,GACbC,aAAc,GACdtF,WAAY,GAEdoJ,UAAW,CACTrR,gBAAiB,sBACjB5B,MAAO,QACPkO,OAAQ,WAEVmF,oBAAqB,CACnBvJ,cAAe,GACfD,WAAY,IAEdyJ,WAAY,CACVtT,MAAO,WAET0T,QAAS,CACP5J,cAAe,EACfE,aAAc,KCzFH,SAAS4H,GAASlT,GAAO,IAAA+D,EAChBC,mBAAS,MADOE,EAAAC,OAAAC,EAAA,EAAAD,CAAAJ,EAAA,GAC/BkR,EAD+B/Q,EAAA,GAC1BgR,EAD0BhR,EAAA,GAAAK,EAEJP,oBAAS,GAFLS,EAAAN,OAAAC,EAAA,EAAAD,CAAAI,EAAA,GAE/BwG,EAF+BtG,EAAA,GAEpB0Q,EAFoB1Q,EAAA,GAKpC0O,EAiBEnT,EAjBFmT,YACAC,EAgBEpT,EAhBFoT,oBACAI,EAeExT,EAfFwT,OACAE,EAcE1T,EAdF0T,OAEAxG,EAYElN,EAZFkN,YACAkI,EAWEpV,EAXFoV,gBACA9I,EAUEtM,EAVFsM,QACAwC,EASE9O,EATF8O,cAEA7I,EAOEjG,EAPFiG,OACAoP,EAMErV,EANFqV,UAEAC,EAIEtV,EAJFsV,YAEAC,EAEEvV,EAFFuV,cACAC,EACExV,EADFwV,qBAcF,OACEvV,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMC,MAAOC,GAAOE,MAClBP,EAAAC,EAAAC,cAAC4L,EAAD,CAAS1L,MAAOC,GAAO4K,SAAvB,WACAjL,EAAAC,EAAAC,cAAC4L,EAAD,CAAS1L,MAAOC,GAAOmV,YAAvB,gDAGAxV,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMC,MAAOC,GAAOG,MAClBR,EAAAC,EAAAC,cAACuV,EAAAxV,EAAD,CACEG,MAAOC,GAAOgK,MACdqL,aAAa,EACbC,UAAW7K,EACX8K,gBAAiB,kBAAMV,GAAa,KAEnCpK,GACC9K,EAAAC,EAAAC,cAACwQ,EAAD,CACEC,kBAAmB5Q,EAAMuV,cACzBlE,qBA3BiB,SAAAtJ,GAC3BoN,GAAa,GACbnV,EAAM+Q,iBAAiBhJ,OA6BV,OAARkN,GACChV,EAAAC,EAAAC,cAACF,EAAAC,EAAM+K,SAAP,KACEhL,EAAAC,EAAAC,cAAC2V,GAAD,CACElK,MAAM,eACNC,QAAS,kBAAMqJ,EAAO,iBAExBjV,EAAAC,EAAAC,cAAC2V,GAAD,CACElK,MAAM,eACNC,QAAS,kBAAMqJ,EAAO,kBAExBjV,EAAAC,EAAAC,cAAC2V,GAAD,CACElK,MAAM,gBACNC,QAAS,kBAAMqJ,EAAO,kBAExBjV,EAAAC,EAAAC,cAAC4V,EAAA,EAAD,CAAQC,cAAe/P,EAAQgQ,cAAeZ,GAC5CpV,EAAAC,EAAAC,cAAC4V,EAAA,EAAOG,KAAR,CAAarU,MAAM,SAASkG,MAAM,WAClC9H,EAAAC,EAAAC,cAAC4V,EAAA,EAAOG,KAAR,CAAarU,MAAM,OAAOkG,MAAM,SAChC9H,EAAAC,EAAAC,cAAC4V,EAAA,EAAOG,KAAR,CAAarU,MAAM,SAASkG,MAAM,WAClC9H,EAAAC,EAAAC,cAAC4V,EAAA,EAAOG,KAAR,CAAarU,MAAM,aAAakG,MAAM,eACtC9H,EAAAC,EAAAC,cAAC4V,EAAA,EAAOG,KAAR,CAAarU,MAAM,eAAekG,MAAM,iBACxC9H,EAAAC,EAAAC,cAAC4V,EAAA,EAAOG,KAAR,CAAarU,MAAM,OAAOkG,MAAM,WAI7B,gBAARkN,GACChV,EAAAC,EAAAC,cAACF,EAAAC,EAAM+K,SAAP,KACEhL,EAAAC,EAAAC,cAAC2V,GAAD,CAAWlK,MAAM,cAAcC,QAAS,kBAAMsJ,GAAa,MAC3DlV,EAAAC,EAAAC,cAACuP,EAAD,CACEC,QAAS4F,EACTjJ,QAASkJ,EACT1G,cAAeA,EACfgB,aAzDS,SAAA/H,GAEnBqL,EAAoB,CAAE/L,OAAQ,CAAEU,WAChCmN,EAAO,kBA0DM,gBAARD,GACChV,EAAAC,EAAAC,cAACF,EAAAC,EAAM+K,SAAP,KACEhL,EAAAC,EAAAC,cAAC2V,GAAD,CACElK,MAAM,cACNC,QAAS,kBAAMyJ,EAAY,gBAE7BrV,EAAAC,EAAAC,cAAC2V,GAAD,CACElK,MAAM,eACNC,QAAS,kBAAMyJ,EAAY,kBAIxB,eAARL,GACChV,EAAAC,EAAAC,cAACF,EAAAC,EAAM+K,SAAP,KACEhL,EAAAC,EAAAC,cAAC+S,GAAD,CACEC,YAAaA,EACbC,oBAAqBA,EACrBI,OAAQA,EACRE,OAAQA,IAEVzT,EAAAC,EAAAC,cAACsO,EAAD,CACEvB,YAAaA,EACbwB,SAAU0G,EACVrG,eAAgBzC,EAChBwC,cAAeA,MAKd,OAARmG,GACChV,EAAAC,EAAAC,cAAC2V,GAAD,CAAWxU,MAAM,UAAUsK,MAAM,OAAOC,QAAS,kBAAMqJ,EAAO,SAEhEjV,EAAAC,EAAAC,cAACgW,GAAD,CAAO3B,UAAWxU,EAAMwU,aAK9B,SAASsB,GAAU9V,GACjB,OACEC,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMC,MAAOC,GAAO0U,SAClB/U,EAAAC,EAAAC,cAACwL,EAAA,EAAW3L,IAKlB,IAAMM,GAASI,IAAWC,OAAO,CAC/BH,KAAM,CACJ4V,iBAAkB,EAClB9G,YAAa,UACb9E,QAAS,GACThJ,OAAQ,QAEVf,KAAM,CACJ4V,SAAU,SACV/K,aAAc,EACd1K,KAAM,GAER0J,MAAO,CACLuI,WAAY,SACZ3P,gBAAiB,QACjBoM,YAAa,qBACb/E,aAAc,EACduI,eAAgB,SAChBuD,SAAU,UAEZnL,QAAS,CACP3H,UAAW,UAEbkS,WAAY,CACVlS,UAAW,SACXH,SAAU,GACV+H,WAAY,EACZC,cAAe,GAEjBiJ,cAAe,CACb/D,eAAgB,sBAChBC,eAAgB,GAElBmE,WAAY,CACVG,kBAAmB,sBACnBC,kBAAmB,GAErBR,KAAM,CACJV,QAAS,QACTxI,cAAe,EACfD,WAAY,EACZqF,YAAa,GACbC,aAAc,GACdsC,WAAY,QACZgC,YAAa,QACbzT,MAAO,UACPiJ,aAAc,GAEhBoK,oBAAqB,CACnBvJ,cAAe,GACfD,WAAY,IAEdyJ,WAAY,CACVtT,MAAO,WAET0T,QAAS,CACP5J,cAAe,EACfE,aAAc,KC1MZgL,GAAK,CAAElP,KAAM,CAAEF,GAAI,KAAMrF,MAAO,MAAQyB,SAAU,CAAEuE,EAAG,GAAIC,EAAG,KAC9DyO,GAAK,CAAEnP,KAAM,CAAEF,GAAI,KAAMrF,MAAO,MAAQyB,SAAU,CAAEuE,EAAG,IAAKC,EAAG,MAC/D0O,GAAK,CAAEpP,KAAM,CAAEF,GAAI,KAAMrF,MAAO,MAAQyB,SAAU,CAAEuE,EAAG,IAAKC,EAAG,KAC/D2O,GAAK,CAAErP,KAAM,CAAEF,GAAI,KAAMrF,MAAO,MAAQyB,SAAU,CAAEuE,EAAG,IAAKC,EAAG,MAC/D4O,GAAK,CAAEtP,KAAM,CAAEF,GAAI,KAAMrF,MAAO,MAAQyB,SAAU,CAAEuE,EAAG,IAAKC,EAAG,KAExD6O,GAAS,IAAIC,IAAI,CAC5B,CAAC,KAAMN,IACP,CAAC,KAAMC,IACP,CAAC,KAAMC,IACP,CAAC,KAAMC,IACP,CAAC,KAAMC,MAGI1P,GAAc,IAAI4P,IAAI,CACjC,CAAC,QAAS,CAAE1P,GAAI,QAASC,OAAQmP,GAAIjP,OAAQkP,GAAI1U,MAAO,MACxD,CAAC,QAAS,CAAEqF,GAAI,QAASC,OAAQmP,GAAIjP,OAAQmP,GAAI3U,MAAO,MACxD,CAAC,QAAS,CAAEqF,GAAI,QAASC,OAAQmP,GAAIjP,OAAQoP,GAAI5U,MAAO,MACxD,CAAC,QAAS,CAAEqF,GAAI,QAASC,OAAQsP,GAAIpP,OAAQqP,GAAI7U,MAAO,MACxD,CAAC,QAAS,CAAEqF,GAAI,QAASC,OAAQmP,GAAIjP,OAAQiP,GAAIzU,MAAO,QAI7CqL,GAAc,CAAC,MCRtBnE,GAAQ,GAAAW,OAAAvF,OAAA0S,EAAA,EAAA1S,CACT2S,MAAMlM,KAAK+L,GAAOI,UAAUzJ,IAAI,SAAAtD,GAAK,OAAA7F,OAAAoF,EAAA,EAAApF,CAAA,GACnC6F,EADmC,CAEtCpB,QAAS,CACP,aDGsB,OCFLoB,EAAM5C,KAAKF,GAAK,sBAAwB,IACjB,IAAxCgG,GAAYC,QAAQnD,EAAM5C,KAAKF,IAAa,oBAAsB,SAN1D/C,OAAA0S,EAAA,EAAA1S,CAST2S,MAAMlM,KAAK5D,GAAY+P,UAAUzJ,IAAI,SAAA3D,GAAK,MAAK,CAChDvC,KAAM,CACJF,GAAIyC,EAAMzC,GACVC,OAAQwC,EAAMxC,OAAOC,KAAKF,GAC1BG,OAAQsC,EAAMtC,OAAOD,KAAKF,GAC1BrF,MAAO8H,EAAM9H,OAEf+G,QAAS,kBAIPoO,GAAgB,eAACjK,EAADkK,UAAAnN,OAAA,QAAA7F,IAAAgT,UAAA,GAAAA,UAAA,GAAS,KAAT,MAAmB,CACvCnK,KAAM,GAAKrE,KAAKE,SAChBqB,MAAO2M,GAAO/M,IDfY,MCgB1BmD,QACAP,YAAaO,IAGA,SAASmK,KACtB,IAAMtT,EAAQC,iBAAO,MADYE,EAGCC,oBAAS,GAHVE,EAAAC,OAAAC,EAAA,EAAAD,CAAAJ,EAAA,GAG1BgH,EAH0B7G,EAAA,GAGfiR,EAHejR,EAAA,GAAAK,EAIHP,mBAAS,CAACgT,OAJPvS,EAAAN,OAAAC,EAAA,EAAAD,CAAAI,EAAA,GAI1B+H,EAJ0B7H,EAAA,GAIjB0S,EAJiB1S,EAAA,GAAAG,EAKLZ,wBAASC,GALJa,EAAAX,OAAAC,EAAA,EAAAD,CAAAS,EAAA,GAK1BqB,EAL0BnB,EAAA,GAKlBuQ,EALkBvQ,EAAA,GAAAG,EAMmBjB,mBAAS,MAN5BkB,EAAAf,OAAAC,EAAA,EAAAD,CAAAc,EAAA,GAM1BmS,EAN0BlS,EAAA,GAMNmS,EANMnS,EAAA,GAAAoS,EAOStT,mBAAS,CACjD,IACA,KACA,OACA,KACA,QAZ+BuT,EAAApT,OAAAC,EAAA,EAAAD,CAAAmT,EAAA,GAO1B/B,EAP0BgC,EAAA,GAOXxG,EAPWwG,EAAA,GAAAC,EAcuBxT,mBACtDuR,EAAcjI,IAAI,SAAAP,GAAK,OACrBK,EAAcpG,GAAagQ,GAAcjK,GAAQG,OAhBpBuK,EAAAtT,OAAAC,EAAA,EAAAD,CAAAqT,EAAA,GAc1BhC,EAd0BiC,EAAA,GAcJC,EAdID,EAAA,GAAAE,EAmBa3T,mBAAS,IAnBtB4T,EAAAzT,OAAAC,EAAA,EAAAD,CAAAwT,EAAA,GAmB1BvC,EAnB0BwC,EAAA,GAmBTC,EAnBSD,EAAA,GAAAE,EAoBK9T,mBAAS,MApBd+T,EAAA5T,OAAAC,EAAA,EAAAD,CAAA2T,EAAA,GAoB1B3E,EApB0B4E,EAAA,GAoBbC,EApBaD,EAAA,GAoFjC,OACE9X,EAAAC,EAAAC,cAACJ,EAAD,CACEU,KACER,EAAAC,EAAAC,cAAC8X,EAAD,CACExX,KACER,EAAAC,EAAAC,cAAC+X,EAAD,CACE3S,GApEE,SAAAA,GACZ3B,EAAM4B,QAAUD,EAChB4P,GAAa,IAmEHlP,OAAQA,EACR8C,SAAUA,GACV/B,YAAaA,GACbxC,SAAU8H,EACVzH,cAAeuS,IAGnB9M,MAAOrK,EAAAC,EAAAC,cAACgY,EAAD,CAAcrM,QAAS,kBAAMqJ,GAAa,MACjDpK,UAAWA,IAGfvK,KACEP,EAAAC,EAAAC,cAACiY,GAAD,CACEjF,YAAaA,EACbC,oBAhEoB,SAAA3L,GAC1BuQ,EAAevQ,EAAEJ,OAAOU,QAgElByL,OA9DO,WACb2D,EAAW,CAACH,GAAc7D,KAC1B0E,EAAmB,KA6DbnE,OA3DO,WAIb,IAHA,IAAM2E,EAAa,GACbC,EAAqB,GAElBzO,EAAI,EAAGA,EAAIyC,EAAQxC,OAAQD,IAAK,CACvC,IAAM0O,EAAcnM,EAAKpF,GAAasF,EAAQzC,IACE,IAAvB0O,EAAYzO,OAGnCwO,EAAmBzL,KAAKP,EAAQzC,IAEhCwO,EAAWxL,KAAK0L,GAIpBpB,EAAW9J,IAAQgL,IACnBR,EAAmBS,IA4CbpL,YAAaA,GACbkI,gBAAiBA,EACjB9I,QAASA,EACTwC,cA7Ec,SAAC3E,EAAQqO,GAE3BnB,EADEmB,EACoBrO,EAEA,OA0ElBlE,OAAQA,EACRoP,UAAWA,EACXC,YAhDY,SAAAtN,GAClB,IAAIyQ,EAQJ,GANa,eAATzQ,EACFyQ,EAAQ7U,EAAM4B,QAAQkT,OACJ,cAAT1Q,IACTyQ,EAAQ7U,EAAM4B,QAAQmT,OAGpBF,EAAO,CACT,IAAMG,EAAMH,EAAMI,QAChB,qBACA,iCAEFC,OAAOC,KAAKH,KAmCRrD,cAAeA,EACfxE,iBA1FmB,SAAAhJ,GACzBgJ,EAAiBhJ,GACjB2P,EACE3P,EAAMuF,IAAI,SAAAP,GAAK,OACbK,EAAcpG,GAAagQ,GAAcjK,GAAQG,QAuF/CsI,qBAAsBA,EACtBhB,UAAW,kBAAMW,GAAa,YCvJzB6D,oLAJX,OAAO/Y,EAAAC,EAAAC,cAAC+W,GAAD,aAFOjU,aCSEgW,QACW,cAA7BH,OAAOI,SAASC,UAEe,UAA7BL,OAAOI,SAASC,UAEhBL,OAAOI,SAASC,SAASC,MACvB,0HCTNC,KAAUC,IAAIhT,MAGdiT,KAAYC,kBAAkB,MAAO,kBAAMR,KAE3CO,KAAYE,eAAe,MAAO,CAChCC,aAAc,GACdC,QAASC,SAAS7P,eAAe,UDiH7B,kBAAmB8P,WACrBA,UAAUC,cAAcC,MAAMC,KAAK,SAAAC,GACjCA,EAAaC","file":"static/js/main.244a3a03.chunk.js","sourcesContent":["import React from 'react'\nimport { StyleSheet, View } from 'react-native'\n\nexport default function Layout(props) {\n  return (\n    <View style={styles.container}>\n      <View style={styles.side}>{props.side}</View>\n      <View style={styles.main}>{props.main}</View>\n    </View>\n  )\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    flexDirection: 'row'\n  },\n  main: {\n    flexDirection: 'column',\n    flex: 1\n  },\n  side: {\n    flexDirection: 'column',\n    flexShrink: 0,\n    width: 250\n  }\n})\n","export default [\n  {\n    selector: 'node',\n    style: {\n      'background-color': 'white',\n      'background-image': 'url(assets/circle.svg)',\n      'border-color': 'black',\n      'border-width': 1,\n      color: 'black',\n      content: 'data(label)',\n      height: 50,\n      'text-valign': 'center',\n      width: 50\n    }\n  },\n  {\n    selector: 'node.dfa__state--final',\n    style: {\n      'background-fit': 'cover',\n      'background-image': 'url(assets/circle.svg)'\n    }\n  },\n  {\n    selector: 'node.dfa__state--initial',\n    style: {\n      'border-color': 'blue'\n    }\n  },\n  {\n    selector: 'node.dfa__state--stepping',\n    style: {\n      'background-color': '#61bffc',\n      'transition-property': 'background-color',\n      'transition-duration': '0.2s'\n    }\n  },\n  {\n    selector: 'edge',\n    style: {\n      label: 'data(label)',\n      'curve-style': 'bezier',\n      'target-arrow-shape': 'triangle',\n      width: '1',\n      'text-background-color': 'white',\n      'text-background-opacity': '1',\n      'text-background-shape': 'rectangle'\n    }\n  },\n  {\n    selector: 'node.dfa__state--config-hover',\n    style: {\n      'border-color': '#0d47a1',\n      'border-style': 'dashed',\n      'border-width': 2\n    }\n  },\n  {\n    selector: 'edge.dfa__state--config-hover',\n    style: {\n      'line-color': '#0d47a1',\n      'line-style': 'dashed',\n      'target-arrow-color': '#0d47a1',\n      width: 2\n    }\n  },\n  {\n    selector: 'edge.autorotate',\n    style: {\n      'edge-text-rotation': 'autorotate'\n    }\n  },\n  {\n    selector: '.eh-handle',\n    style: {\n      'background-color': 'red',\n      width: 12,\n      height: 12,\n      shape: 'ellipse',\n      'overlay-opacity': 0,\n      'border-width': 12, // makes the handle easier to hit\n      'border-opacity': 0\n    }\n  },\n  {\n    selector: '.eh-hover',\n    style: {\n      'background-color': 'red'\n    }\n  },\n  {\n    selector: '.eh-source',\n    style: {\n      'border-width': 2,\n      'border-color': 'red'\n    }\n  },\n  {\n    selector: '.eh-target',\n    style: {\n      'border-width': 2,\n      'border-color': 'red'\n    }\n  },\n  {\n    selector: '.eh-preview, .eh-ghost-edge',\n    style: {\n      'background-color': 'red',\n      'line-color': 'red',\n      'target-arrow-color': 'red',\n      'source-arrow-color': 'red'\n    }\n  },\n  {\n    selector: '.eh-ghost-edge.eh-preview-active',\n    style: {\n      opacity: 0\n    }\n  }\n]\n","import React, { useEffect, useRef, useState } from 'react'\nimport { StyleSheet, TextInput, View } from 'react-native'\nimport Cytoscape from 'react-cytoscapejs'\nimport cyStylesheet from './stylesheet'\n\nexport function AutomataEditor(props) {\n  const cyRef = useRef(null)\n  const inputEl = useRef(null)\n  const [prevLayout, setPrevLayout] = useState(undefined)\n  const [prevStepping, setPrevStepping] = useState(props.stepping)\n  const [prevConfigHovered, setPrevConfigHovered] = useState(\n    props.configHovered\n  )\n  const [editing, setEditing] = useState(null)\n\n  useEffect(\n    () => {\n      const cy = cyRef.current\n      let raf\n      let animOffset = 0\n\n      function animate() {\n        animOffset++\n        cy.edges().animate({\n          style: { 'line-dash-offset': -animOffset }\n        })\n        raf = requestAnimationFrame(animate)\n      }\n\n      animate()\n\n      return () => {\n        if (raf) {\n          cancelAnimationFrame(raf)\n        }\n      }\n    },\n    ['once']\n  )\n\n  const setCy = internal => {\n    cyRef.current = internal\n    props.cy(internal)\n\n    const cy = cyRef.current\n    cy.edgehandles({\n      preview: false,\n      edgeType: function(sourceNode, targetNode) {\n        return sourceNode.edgesTo(targetNode).empty() ? 'flat' : null\n      },\n      loopAllowed: function() {\n        return true\n      },\n      complete: onEdgeCreate\n    })\n\n    const onSurfaceClick = evt => {\n      const target = evt.target || evt.cyTarget\n      if (target === cy) {\n        const node = cy.add({\n          data: {\n            // TODO: Add actual uuid generation\n            id: 'new' + Math.round(Math.random() * 100),\n            label: ''\n          },\n          position: {\n            x: evt.position.x,\n            y: evt.position.y\n          },\n          classes: ['dfa__state']\n        })\n        onNodeEdit({ target: node })\n      }\n    }\n    const onContextTap = e => {\n      const target = e.target || e.cyTarget\n      if (target.isNode()) {\n        const { x, y } = target.renderedPosition()\n      }\n    }\n    const onNodeEdit = e => {\n      const node = e.target\n      const { x, y } = node.renderedPosition()\n\n      setEditing({\n        x,\n        y,\n        id: node.id(),\n        value: node.data('label'),\n        type: 'node'\n      })\n      inputEl.current.focus()\n      node.data('label', '')\n    }\n    function onEdgeCreate(sourceNode, targetNode, addedEles) {\n      // TODO: Have all these data handled in one place\n      props.transitions.set(addedEles.id(), {\n        id: addedEles.id,\n        label: addedEles.label,\n        source: { data: sourceNode.data() },\n        target: { data: targetNode.data() }\n      })\n\n      onEdgeEdit({ target: addedEles.first() })\n    }\n    const onEdgeEdit = e => {\n      const edge = e.target\n      const { x, y } = edge.renderedMidpoint()\n\n      setEditing({\n        x,\n        y,\n        id: edge.id(),\n        value: edge.data('label'),\n        type: 'edge'\n      })\n      inputEl.current.focus()\n      edge.data('label', '')\n    }\n\n    cy.on('tap', onSurfaceClick)\n    cy.on('taphold', 'node.dfa__state', onNodeEdit)\n    cy.on('taphold', 'edge', onEdgeEdit)\n    cy.on('cxttap', onContextTap)\n    updateSteppingClasses()\n    updateConfigHoveredClasses()\n  }\n\n  updateSteppingClasses()\n  updateConfigHoveredClasses()\n\n  if (props.layout !== prevLayout) {\n    setPrevLayout(props.layout)\n    if (cyRef.current) {\n      cyRef.current.layout({ name: props.layout }).run()\n    }\n  }\n\n  const onEditingValueChange = e => {\n    setEditing({ ...editing, value: e.target.value })\n  }\n  const onNodeLabelInputBlur = e => {\n    const cy = cyRef.current\n\n    cy.$(`#${editing.id}`).data('label', e.target.value)\n    // update root transitions object as well\n    // unfortunately we have to do this dirty\n    // hack since there are two sources of truth\n    const trans = props.transitions.get(editing.id)\n    if (trans && editing.type === 'edge') {\n      trans.label = e.target.value\n    }\n\n    setEditing(null)\n  }\n\n  return (\n    <View style={styles.container}>\n      <UncontrolledCytoscape\n        cy={setCy}\n        layout={props.layout ? { name: props.layout } : null}\n        elements={props.elements}\n        stylesheet={cyStylesheet}\n        style={{ height: '100%', width: '100%' }}\n      />\n      {editing && (\n        <TextInput\n          selectTextOnFocus\n          ref={inputEl}\n          style={[styles.labelInput, { left: editing.x, top: editing.y }]}\n          value={editing.value}\n          onChange={onEditingValueChange}\n          onBlur={onNodeLabelInputBlur}\n        />\n      )}\n    </View>\n  )\n\n  function updateSteppingClasses() {\n    if (!cyRef.current) return\n    if (props.stepping !== prevStepping) {\n      for (let i = 0; i < prevStepping.length; i++) {\n        cyRef.current\n          .getElementById(prevStepping[i].state.data.id)\n          .removeClass('dfa__state--stepping')\n      }\n      setPrevStepping(props.stepping)\n\n      for (let i = 0; i < props.stepping.length; i++) {\n        cyRef.current\n          .getElementById(props.stepping[i].state.data.id)\n          .addClass('dfa__state--stepping')\n      }\n    }\n  }\n\n  function updateConfigHoveredClasses() {\n    if (!cyRef.current) return\n\n    // TODO: Refactor this\n    if (props.configHovered !== prevConfigHovered) {\n      setPrevConfigHovered(props.configHovered)\n      if (props.configHovered) {\n        let config = props.configHovered\n        do {\n          const node = cyRef.current.getElementById(config.state.data.id)\n          node.addClass('dfa__state--config-hover')\n\n          if (config.parent) {\n            const parent = cyRef.current.getElementById(\n              config.parent.state.data.id\n            )\n            parent.edgesTo(node).addClass('dfa__state--config-hover')\n          }\n\n          config = config.parent\n        } while (config)\n      } else if (prevConfigHovered) {\n        let config = prevConfigHovered\n        do {\n          const node = cyRef.current.getElementById(config.state.data.id)\n          node.removeClass('dfa__state--config-hover')\n\n          if (config.parent) {\n            const parent = cyRef.current.getElementById(\n              config.parent.state.data.id\n            )\n            parent.edgesTo(node).removeClass('dfa__state--config-hover')\n          }\n\n          config = config.parent\n        } while (config)\n      }\n    }\n  }\n}\n\n// Cytoscape that only uses elements as initial data\nclass UncontrolledCytoscape extends React.Component {\n  shouldComponentUpdate() {\n    return false\n  }\n\n  render() {\n    return <Cytoscape {...this.props} />\n  }\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fefefe',\n    width: '100%'\n  },\n  labelInput: {\n    fontSize: 14,\n    outline: 'none',\n    position: 'absolute',\n    textAlign: 'center',\n    transform: [{ translateX: '-50%' }, { translateY: '-50%' }]\n  }\n})\n\nexport default AutomataEditor\n","import React from 'react'\nimport { StyleSheet, View } from 'react-native'\nimport { Spring } from 'react-spring'\n\nexport function ZoomedModal(props) {\n  return (\n    <View style={styles.container}>\n      <Spring from={{ scale: 1.0 }} to={{ scale: props.showModal ? 0.9 : 1 }}>\n        {tStyles => (\n          <View\n            style={[{ transform: [{ scale: tStyles.scale }] }, styles.main]}\n          >\n            {props.main}\n          </View>\n        )}\n      </Spring>\n      {props.showModal && (\n        <React.Fragment>\n          <View style={styles.overlay} />\n          <View style={styles.modal}>{props.modal}</View>\n        </React.Fragment>\n      )}\n    </View>\n  )\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    position: 'relative',\n    height: '100%',\n    width: '100%'\n  },\n  main: {\n    height: '100%',\n    width: '100%'\n  },\n  overlay: {\n    backgroundColor: 'rgba(0, 0, 0, 0.2)',\n    position: 'absolute',\n    height: '100%',\n    width: '100%'\n  },\n  modal: {\n    backgroundColor: 'white',\n    borderRadius: 4,\n    padding: 18,\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: [{ translateX: '-50%' }, { translateY: '-50%' }],\n    maxWidth: 800,\n    width: '90%'\n  }\n})\n\nexport default ZoomedModal\n","import React from 'react'\nimport { StyleSheet, Button, Text, View } from 'react-native'\n\nexport function Instructions(props) {\n  return (\n    <View style={styles.container}>\n      <Text style={styles.heading}>\n        WebFLAP is a modern finite automaton maker and visualizer\n      </Text>\n      <Text style={styles.text}>\n        Create a node by clicking anywhere on the canvas\n      </Text>\n      <Text style={styles.text}>Drag between two nodes to create an edge</Text>\n      <Text style={styles.text}>\n        Long press/hold on a node/edge to set their labels\n      </Text>\n      <Text style={styles.textBottom}>\n        You can view these instructions again at any time by clicking 'How to\n        use' on the left\n      </Text>\n      <Text style={styles.actions}>\n        <Button title=\"Start Editing\" onPress={props.onClose} />\n      </Text>\n    </View>\n  )\n}\n\nconst styles = StyleSheet.create({\n  container: {},\n  heading: {\n    textAlign: 'center',\n    fontSize: 18,\n    paddingTop: 4,\n    paddingBottom: 16\n  },\n  text: {\n    marginBottom: 8\n  },\n  textBottom: {\n    marginBottom: 16\n  },\n  actions: {\n    textAlign: 'center'\n  }\n})\n\nexport default Instructions\n","import React from 'react'\nimport { StyleSheet, Text } from 'react-native'\n\nexport default function Heading(props) {\n  return (\n    <Text accessibilityRole=\"heading\" style={[styles.heading, props.style]}>\n      {props.children}\n    </Text>\n  )\n}\n\nconst styles = StyleSheet.create({\n  heading: {\n    fontFamily: 'montserrat',\n    fontWeight: '400',\n    fontSize: '2rem'\n  }\n})\n","import flatten from 'lodash.flatten'\n\ntype AutomataState = {\n  data: {\n    id: string,\n    label: string\n  },\n  position: {\n    x: number,\n    y: number\n  }\n}\n\ntype AutomataTransition = {\n  source: AutomataState,\n  target: AutomataState,\n  label: string\n}\n\ntype AutomataStates = Map<string, AutomataState>\ntype AutomataTransitions = Map<string, AutomataTransition>\n\n/**\n * Configuration of the current state step in an automaton\n **/\ntype AutomataConfiguration = {\n  hash: string,\n  parent: AutomataConfiguration,\n  state: AutomataState,\n  input: string,\n  unprocessed: string\n}\n\nexport function step (\n  transitions:AutomataTransitions,\n  configuration: AutomataConfiguration\n): Array<AutomataConfiguration> {\n  const configs: Array<AutomataConfiguration> = []\n  const unprocessedInput = configuration.unprocessed\n\n  // XXX: map && compact this?\n  transitions.forEach((transition) => {\n    if (configuration.state.data.id !== transition.source.data.id) {\n      return \n    }\n\n    const transLabel = transition.label\n\n    if (unprocessedInput.startsWith(transLabel)) {\n      configs.push({\n        // TODO: use a hash from the path?\n        hash: '' + Math.random(),\n        parent: configuration,\n        state: transition.target,\n        input: configuration.input,\n        unprocessed: unprocessedInput.substr(transLabel.length)\n      })\n    }\n  })\n\n  return configs\n}\n\nexport function isConfigAccepted(finalStates: Array<string>, config: AutomataConfiguration) {\n  return (\n    config.unprocessed.length === 0\n    && finalStates.indexOf(config.state.data.id) !== -1\n  )\n}\n\nexport function resolveConfig(\n  transitions:AutomataTransitions,\n  configuration: AutomataConfiguration,\n  finalStates: Array<string>\n) {\n  const lIsConfigAccepted = (config: AutomataConfiguration) => isConfigAccepted(finalStates, config)\n  let configs = [configuration]\n\n  do {\n    for (let i = 0; i < configs.length; i++) {\n      if (lIsConfigAccepted(configs[i])) {\n        return configs[i]\n      }\n    }\n\n    configs = flatten(configs.map(c => step(transitions, c)))\n  } while (configs.length !== 0)\n\n  return null\n}\n","// https://github.com/devhubapp/devhub/blob/master/packages/components/src/hooks/use-hover.ts\n// mouseover/out -> mouseenter/leave\n// https://stackoverflow.com/questions/350639/how-to-disable-mouseout-events-triggered-by-child-elements\n\nimport { useEffect, useRef, useState } from 'react'\nimport { findDOMNode } from 'react-dom'\n\nimport { Platform } from 'react-native'\n\nexport default function useHover(ref, callback) {\n  if (Platform.OS !== 'web') return false\n\n  const cacheRef = useRef(false)\n  const [isHovered, setIsHovered] = useState(false)\n\n  useEffect(\n    () => {\n      const node = findNode(ref)\n\n      if (!(node && typeof node.addEventListener === 'function')) return\n\n      const resolve = value => {\n        if (cacheRef.current === value) return\n\n        cacheRef.current = value\n\n        if (callback) {\n          callback(value)\n          return\n        }\n\n        setIsHovered(value)\n      }\n\n      const handleMouseOver = () => resolve(true)\n      const handleMouseOut = () => resolve(false)\n\n      node.addEventListener('mouseenter', handleMouseOver)\n      node.addEventListener('mouseleave', handleMouseOut)\n\n      return () => {\n        if (!node) return\n\n        node.removeEventListener('mouseenter', handleMouseOver)\n        node.removeEventListener('mouseleave', handleMouseOut)\n      }\n    },\n    [ref && ref.current, callback]\n  )\n\n  return isHovered\n}\n\nexport function findNode(ref) {\n  let node = ref && (ref.current || ref)\n\n  if (node && node.getNode && node.getNode()) node = node.getNode()\n\n  if (node && node._touchableNode) node = node._touchableNode\n\n  if (node && node._node) node = node._node\n\n  if (Platform.OS === 'web') node = findDOMNode(node)\n\n  return node\n}\n","import React, { useRef, useState } from 'react'\nimport { StyleSheet, Text, View } from 'react-native'\nimport { isConfigAccepted } from '../helpers'\nimport useHover from '../../core/hooks/useHover'\n\nexport default function Configurations(props) {\n  return (\n    <View style={styles.container}>\n      {props.rejected.map(config => (\n        <Config\n          rejected\n          key={config.hash}\n          config={config}\n          onHover={props.onConfigHover}\n          finalStates={props.finalStates}\n        />\n      ))}\n      {props.configurations.map(config => (\n        <Config\n          key={config.hash}\n          config={config}\n          onHover={props.onConfigHover}\n          finalStates={props.finalStates}\n        />\n      ))}\n    </View>\n  )\n}\n\nfunction Config(props) {\n  const touchableRef = useRef(null)\n  const [isHovered, setIsHovered] = useState(false)\n  useHover(touchableRef, hovering => {\n    setIsHovered(hovering)\n    props.onHover(props.config, hovering)\n  })\n\n  return (\n    <View\n      ref={touchableRef}\n      style={[\n        styles.config,\n        !!isHovered && styles.configHovered,\n        props.rejected && styles.configRejected,\n        isConfigAccepted(props.finalStates, props.config) && styles.configFinal\n      ]}\n    >\n      <Text>{props.config.state.data.label}</Text>\n      <Text>\n        <Text style={styles.processed}>{getProcessedStr(props.config)}</Text>\n        <Text style={styles.unprocessed}>{props.config.unprocessed}</Text>\n      </Text>\n    </View>\n  )\n}\n\n// TODO: put this in a helper\nconst getProcessedStr = config =>\n  config.input.substr(0, config.input.length - config.unprocessed.length)\n\nconst styles = StyleSheet.create({\n  container: {\n    flexDirection: 'column'\n  },\n  config: {\n    borderColor: 'rgba(0, 0, 0, 0.1)',\n    borderRadius: 4,\n    borderWidth: 1,\n    marginBottom: 8,\n    padding: 8,\n    cursor: 'pointer',\n    height: 50\n  },\n  configHovered: {\n    borderColor: 'rgba(0, 0, 0, 0.15)',\n    boxShadow: '0 3px 9px 0 rgba(46, 50, 60, .09)'\n  },\n  configRejected: {\n    backgroundColor: '#ffebee'\n  },\n  configFinal: {\n    backgroundColor: '#ccff90'\n  },\n  processed: {\n    color: 'green'\n  },\n  unprocessed: {\n    color: 'red'\n  }\n})\n","import React, { useEffect, useRef, useState } from 'react'\nimport { StyleSheet, TouchableOpacity, View, Text } from 'react-native'\nimport useHover from '../../core/hooks/useHover'\n\nexport default function MultipleInput(props) {\n  return (\n    <View>\n      {props.strings.map((string, i) => (\n        <Row\n          key={string}\n          string={string}\n          config={props.configs[i]}\n          onHover={props.onConfigHover}\n          onInputPress={props.onInputPress}\n        />\n      ))}\n    </View>\n  )\n}\n\nfunction Row(props) {\n  const touchableRef = useRef(null)\n  const [isHovered, setIsHovered] = useState(false)\n  useHover(touchableRef, hovering => {\n    setIsHovered(hovering)\n    props.onHover(props.config, hovering)\n  })\n  useEffect(\n    () => {\n      return () => {\n        props.onHover(props.config, false)\n      }\n    },\n    ['once']\n  )\n\n  const accepted = !!props.config\n\n  return (\n    <TouchableOpacity onPress={() => props.onInputPress(props.string)}>\n      <View\n        ref={touchableRef}\n        style={[\n          styles.row,\n          accepted && styles.rowAccepted,\n          !accepted && styles.rowRejected,\n          accepted && isHovered && styles.rowHoveredAccepted,\n          !accepted && isHovered && styles.rowHoveredRejected\n        ]}\n      >\n        <Text>{props.string}</Text>\n      </View>\n    </TouchableOpacity>\n  )\n}\n\nconst styles = StyleSheet.create({\n  row: {\n    borderTopColor: 'rgba(0,0,0,0.02)',\n    borderRadius: 2,\n    borderTopWidth: 1,\n    cursor: 'pointer',\n    marginBottom: 1,\n    paddingLeft: 8,\n    paddingRight: 8,\n    paddingTop: 4,\n    paddingBottom: 4\n  },\n  rowAccepted: {\n    backgroundColor: '#ccff90'\n  },\n  rowRejected: {\n    backgroundColor: '#ffebee'\n  },\n  rowHovered: {\n    backgroundColor: 'rgba(0,0,0,0.03)'\n  },\n  rowHoveredAccepted: {\n    backgroundColor: '#b2fe7c'\n  },\n  rowHoveredRejected: {\n    backgroundColor: '#ffd1d8'\n  }\n})\n","import React, { useState } from 'react'\nimport { StyleSheet, Button, Text, TextInput, View } from 'react-native'\nimport Dropzone from 'react-dropzone'\nimport Heading from '../../core/Heading'\n\nexport default function MultipleInputEditor(props) {\n  const [multilineInput, setMultipleInput] = useState(\n    props.currMultipleInput.join('\\n')\n  )\n  const onMultilineInputChange = e => {\n    setMultipleInput(e.target.value)\n  }\n  const onSaveMultilineInput = e => {\n    props.onSaveMultilineInput(multilineInput.split('\\n'))\n  }\n  const onDrop = (files, rejectedFiles) => {\n    if (rejectedFiles.length !== 0) {\n      // TODO: Make this look better\n      alert('Please use plain/text (.txt) formats!')\n    }\n\n    const reader = new FileReader()\n    reader.onload = function(e) {\n      props.onSaveMultilineInput(e.target.result.split('\\n'))\n    }\n    reader.readAsText(files[0], 'UTF-8')\n  }\n\n  return (\n    <View style={styles.container}>\n      <View style={styles.column}>\n        <Heading style={styles.heading}>\n          Edit Test Input\n          <Text style={styles.headingSmall}>\n            (separate test input by newline)\n          </Text>\n        </Heading>\n        <TextInput\n          style={styles.editorText}\n          value={multilineInput}\n          onChange={onMultilineInputChange}\n          multiline\n          placeholer=\"Input cases\"\n        />\n        <Button title=\"Save\" onPress={onSaveMultilineInput} />\n      </View>\n      <View style={[styles.column, styles.columnEditor]}>\n        <Dropzone accept=\"text/plain\" onDrop={onDrop}>\n          {({ getRootProps, getInputProps, isDragActive }) => (\n            <div\n              {...getRootProps()}\n              style={{\n                ...styles.upload,\n                ...(isDragActive ? styles.uploadDragActive : {})\n              }}\n            >\n              {isDragActive ? (\n                'Drop files here...'\n              ) : (\n                <div>\n                  <div style={styles.uploadLabel}>Drag Input File</div>\n                  <small style={styles.uploadLabel}>or</small>\n                  <div>Click to Browse Input File</div>\n                </div>\n              )}\n              <input {...getInputProps()} />\n            </div>\n          )}\n        </Dropzone>\n      </View>\n      <View style={styles.or}>\n        <Text style={styles.orText}>OR</Text>\n      </View>\n    </View>\n  )\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    position: 'relative',\n    flex: 1,\n    flexDirection: 'row',\n    height: '100%',\n    width: '100%'\n  },\n  or: {\n    position: 'absolute',\n    left: '50%',\n    top: '50%',\n    transform: [{ translateX: '-50%' }, { translateY: '-50%' }],\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: 'white',\n    borderRadius: 50,\n    boxShadow: '0 0 16px rgba(0, 0, 0, 0.3)',\n    height: 60,\n    width: 60\n  },\n  orText: {\n    fontSize: 24\n  },\n  column: {\n    padding: 22,\n    flex: 1\n  },\n  heading: {\n    fontSize: 18,\n    paddingBottom: 4\n  },\n  headingSmall: {\n    fontSize: 13,\n    marginLeft: 4,\n    color: '#808080'\n  },\n  columnEditor: {\n    backgroundColor: '#efefef'\n  },\n  editorText: {\n    boxShadow: 'inset 0 0 4px #b0b0b0',\n    height: '100%',\n    padding: 8,\n    marginTop: 4,\n    marginBottom: 4,\n    lineHeight: 18,\n    outline: 'none'\n  }\n})\n\nstyles.upload = {\n  borderWidth: 2,\n  borderStyle: 'dashed',\n  borderColor: '#e0e0e0',\n  cursor: 'pointer',\n  display: 'flex',\n  flex: 1,\n  flexDirection: 'column',\n  alignContent: 'center',\n  justifyContent: 'center',\n  height: '100%',\n\n  color: '#909090',\n  fontSize: 24,\n  textAlign: 'center'\n}\nstyles.uploadDragActive = {\n  color: '#2096F3',\n  borderColor: '#2096F3'\n}\nstyles.uploadLabel = {\n  display: 'block',\n  paddingBottom: 8\n}\n","import React from 'react'\nimport { StyleSheet, Button, TextInput, View } from 'react-native'\n\nexport default function Controls(props) {\n  return (\n    <View>\n      <TextInput\n        value={props.inputString}\n        onChange={props.onInputStringChange}\n        style={styles.input}\n        placeholder=\"Input String\"\n      />\n      <View style={styles.controls}>\n        <Button style={styles.control} title=\"Play\" onPress={props.onPlay} />\n        <View style={styles.controlGap} />\n        <Button style={styles.control} title=\"Next\" onPress={props.onNext} />\n      </View>\n    </View>\n  )\n}\n\nconst styles = StyleSheet.create({\n  input: {\n    backgroundColor: 'rgba(240, 240, 240, 1)',\n    fontSize: 14,\n    marginBottom: 4,\n    outline: 'none',\n    padding: 8\n  },\n  controls: {\n    flexDirection: 'row',\n    marginBottom: 8\n  },\n  controlGap: {\n    width: 4\n  }\n})\n","import React, { useRef } from 'react'\nimport { StyleSheet, Text, View } from 'react-native'\nimport useHover from '../../../core/hooks/useHover'\n\nfunction Links(props) {\n  const howToUseRef = useRef(null)\n  const howToUseHover = useHover(howToUseRef)\n\n  const sourceCodeRef = useRef(null)\n  const sourceCodeHover = useHover(sourceCodeRef)\n\n  const issueRef = useRef(null)\n  const issueHover = useHover(issueRef)\n\n  return (\n    <View>\n      <View ref={howToUseRef} style={styles.linkContainer}>\n        <Text\n          style={[styles.link, howToUseHover && styles.linkHover]}\n          onPress={props.openModal}\n        >\n          How to use\n        </Text>\n      </View>\n      <View ref={sourceCodeRef} style={styles.linkContainer}>\n        <Text\n          style={[styles.link, sourceCodeHover && styles.linkHover]}\n          accessibilityRole=\"link\"\n          target=\"_blank\"\n          href=\"//github.com/Secretmapper/webflap\"\n        >\n          Source code\n        </Text>\n      </View>\n      <View ref={issueRef} style={[styles.linkContainer, styles.linkBottom]}>\n        <Text\n          style={[styles.link, issueHover && styles.linkHover]}\n          accessibilityRole=\"link\"\n          target=\"_blank\"\n          href=\"//github.com/Secretmapper/webflap/issues\"\n        >\n          Report issues\n        </Text>\n      </View>\n      <View>\n        <Text style={styles.authorLinkContainer}>\n          <Text>Made by </Text>\n          <Text\n            style={styles.authorLink}\n            accessibilityRole=\"link\"\n            target=\"_blank\"\n            href=\"//twitter.com/Secretmapper\"\n          >\n            @secretmapper\n          </Text>\n        </Text>\n      </View>\n    </View>\n  )\n}\n\nexport default Links\n\nconst styles = StyleSheet.create({\n  linkContainer: {\n    borderTopColor: 'rgba(0, 0, 0, 0.05)',\n    borderTopWidth: 1\n  },\n  linkBottom: {\n    borderBottomColor: 'rgba(0, 0, 0, 0.05)',\n    borderBottomWidth: 1\n  },\n  link: {\n    fontFamily: 'montserrat',\n    fontSize: 13,\n    borderRadius: 3,\n    color: '#818387',\n    display: 'block',\n    marginLeft: -10,\n    marginRight: -10,\n    paddingBottom: 8,\n    paddingLeft: 15,\n    paddingRight: 15,\n    paddingTop: 8\n  },\n  linkHover: {\n    backgroundColor: 'rgba(0, 0, 0, 0.03)',\n    color: 'black',\n    cursor: 'pointer'\n  },\n  authorLinkContainer: {\n    paddingBottom: 10,\n    paddingTop: 10\n  },\n  authorLink: {\n    color: '#71BCF7'\n  },\n  navLink: {\n    paddingBottom: 4,\n    marginBottom: 4\n  }\n})\n","import React, { useState } from 'react'\nimport { StyleSheet, Button, Picker, View } from 'react-native'\nimport Modal from 'modal-enhanced-react-native-web'\nimport Heading from '../../core/Heading'\nimport Configurations from '../Configurations'\nimport MultipleInput from '../MultipleInput'\nimport MultipleInputEditor from '../MultipleInputEditor'\nimport StepByStepControls from '../StepByStepControls'\nimport Links from './Links'\n\nexport default function Controls(props) {\n  const [tab, setTab] = useState(null)\n  const [showModal, setShowModal] = useState(false)\n\n  const {\n    inputString,\n    onInputStringChange,\n    onPlay,\n    onNext,\n\n    finalStates,\n    rejectedConfigs,\n    configs,\n    onConfigHover,\n\n    layout,\n    setLayout,\n\n    saveAsImage,\n\n    multipleInput,\n    multipleInputConfigs\n  } = props\n\n  const onSaveMultilineInput = value => {\n    setShowModal(false)\n    props.setMultipleInput(value)\n  }\n\n  const onInputPress = value => {\n    // XXX: don't simulate an event here\n    onInputStringChange({ target: { value } })\n    setTab('stepByStep')\n  }\n\n  return (\n    <View style={styles.side}>\n      <Heading style={styles.heading}>WebFLAP</Heading>\n      <Heading style={styles.subheading}>\n        Modern Finite Automaton Maker and Visualizer\n      </Heading>\n      <View style={styles.main}>\n        <Modal\n          style={styles.modal}\n          transparent={true}\n          isVisible={showModal}\n          onBackdropPress={() => setShowModal(false)}\n        >\n          {showModal && (\n            <MultipleInputEditor\n              currMultipleInput={props.multipleInput}\n              onSaveMultilineInput={onSaveMultilineInput}\n            />\n          )}\n        </Modal>\n        {tab === null && (\n          <React.Fragment>\n            <NavButton\n              title=\"Step by Step\"\n              onPress={() => setTab('stepByStep')}\n            />\n            <NavButton\n              title=\"Run Multiple\"\n              onPress={() => setTab('multipleRun')}\n            />\n            <NavButton\n              title=\"Save as Image\"\n              onPress={() => setTab('saveAsImage')}\n            />\n            <Picker selectedValue={layout} onValueChange={setLayout}>\n              <Picker.Item label=\"Random\" value=\"random\" />\n              <Picker.Item label=\"Grid\" value=\"grid\" />\n              <Picker.Item label=\"Circle\" value=\"circle\" />\n              <Picker.Item label=\"Concentric\" value=\"concentric\" />\n              <Picker.Item label=\"Breadthfirst\" value=\"breadthfirst\" />\n              <Picker.Item label=\"Cose\" value=\"cose\" />\n            </Picker>\n          </React.Fragment>\n        )}\n        {tab === 'multipleRun' && (\n          <React.Fragment>\n            <NavButton title=\"Load Inputs\" onPress={() => setShowModal(true)} />\n            <MultipleInput\n              strings={multipleInput}\n              configs={multipleInputConfigs}\n              onConfigHover={onConfigHover}\n              onInputPress={onInputPress}\n            />\n          </React.Fragment>\n        )}\n        {tab === 'saveAsImage' && (\n          <React.Fragment>\n            <NavButton\n              title=\"Save as PNG\"\n              onPress={() => saveAsImage('image/png')}\n            />\n            <NavButton\n              title=\"Save as JPEG\"\n              onPress={() => saveAsImage('image/jpeg')}\n            />\n          </React.Fragment>\n        )}\n        {tab === 'stepByStep' && (\n          <React.Fragment>\n            <StepByStepControls\n              inputString={inputString}\n              onInputStringChange={onInputStringChange}\n              onPlay={onPlay}\n              onNext={onNext}\n            />\n            <Configurations\n              finalStates={finalStates}\n              rejected={rejectedConfigs}\n              configurations={configs}\n              onConfigHover={onConfigHover}\n            />\n          </React.Fragment>\n        )}\n      </View>\n      {tab !== null && (\n        <NavButton color=\"#9e9e9e\" title=\"Back\" onPress={() => setTab(null)} />\n      )}\n      <Links openModal={props.openModal} />\n    </View>\n  )\n}\n\nfunction NavButton(props) {\n  return (\n    <View style={styles.navLink}>\n      <Button {...props} />\n    </View>\n  )\n}\n\nconst styles = StyleSheet.create({\n  side: {\n    borderRightWidth: 1,\n    borderColor: '#e1e4e8',\n    padding: 20,\n    height: '100%'\n  },\n  main: {\n    overflow: 'scroll',\n    marginBottom: 8,\n    flex: 1\n  },\n  modal: {\n    alignItems: 'center',\n    backgroundColor: 'white',\n    borderColor: 'rgba(0, 0, 0, 0.1)',\n    borderRadius: 4,\n    justifyContent: 'center',\n    overflow: 'hidden'\n  },\n  heading: {\n    textAlign: 'center'\n  },\n  subheading: {\n    textAlign: 'center',\n    fontSize: 13,\n    paddingTop: 4,\n    paddingBottom: 8\n  },\n  linkContainer: {\n    borderTopColor: 'rgba(0, 0, 0, 0.05)',\n    borderTopWidth: 1\n  },\n  linkBottom: {\n    borderBottomColor: 'rgba(0, 0, 0, 0.05)',\n    borderBottomWidth: 1\n  },\n  link: {\n    display: 'block',\n    paddingBottom: 8,\n    paddingTop: 8,\n    paddingLeft: 15,\n    paddingRight: 15,\n    marginLeft: '-15px',\n    marginRight: '-15px',\n    color: '#818387',\n    borderRadius: 3\n  },\n  authorLinkContainer: {\n    paddingBottom: 10,\n    paddingTop: 10\n  },\n  authorLink: {\n    color: '#71BCF7'\n  },\n  navLink: {\n    paddingBottom: 4,\n    marginBottom: 4\n  }\n})\n","const q0 = { data: { id: 'q0', label: 'q0' }, position: { x: 50, y: 50 } }\nconst q1 = { data: { id: 'q1', label: 'q1' }, position: { x: 100, y: 150 } }\nconst q2 = { data: { id: 'q2', label: 'q2' }, position: { x: 150, y: 50 } }\nconst q3 = { data: { id: 'q3', label: 'q3' }, position: { x: 200, y: 150 } }\nconst q4 = { data: { id: 'q4', label: 'q4' }, position: { x: 250, y: 50 } }\n\nexport const states = new Map([\n  ['q0', q0],\n  ['q1', q1],\n  ['q2', q2],\n  ['q3', q3],\n  ['q4', q4]\n])\n\nexport const transitions = new Map([\n  ['q0-q1', { id: 'q0-q1', source: q0, target: q1, label: 'a' }],\n  ['q0-q2', { id: 'q0-q2', source: q0, target: q2, label: 'b' }],\n  ['q0-q3', { id: 'q0-q3', source: q0, target: q3, label: 'b' }],\n  ['q3-q4', { id: 'q0-q4', source: q3, target: q4, label: 'c' }],\n  ['q0-q0', { id: 'q0-q0', source: q0, target: q0, label: 's' }]\n])\n\nexport const initialState = 'q0'\nexport const finalStates = ['q4']\n","import React, { useRef, useState } from 'react'\nimport flatten from 'lodash.flatten'\nimport Layout from './Layout'\nimport Editor from './Editor'\nimport ZoomedModal from './ZoomedModal'\nimport Instructions from './Instructions'\nimport Controls from './Controls'\nimport { step, resolveConfig } from './helpers'\nimport {\n  initialState,\n  finalStates,\n  states,\n  transitions\n} from './automata.fixtures'\n\nconst elements = [\n  ...Array.from(states.values()).map(state => ({\n    ...state,\n    classes: [\n      'dfa__state',\n      initialState === state.data.id ? 'dfa__state--initial' : '',\n      finalStates.indexOf(state.data.id) !== -1 ? 'dfa__state--final' : ''\n    ]\n  })),\n  ...Array.from(transitions.values()).map(trans => ({\n    data: {\n      id: trans.id,\n      source: trans.source.data.id,\n      target: trans.target.data.id,\n      label: trans.label\n    },\n    classes: 'autorotate'\n  }))\n]\n\nconst initialConfig = (input = 'bc') => ({\n  hash: '' + Math.random(),\n  state: states.get(initialState),\n  input,\n  unprocessed: input\n})\n\nexport default function Automata() {\n  const cyRef = useRef(null)\n\n  const [showModal, setShowModal] = useState(false)\n  const [configs, setConfigs] = useState([initialConfig()])\n  const [layout, setLayout] = useState(undefined)\n  const [configBeingHovered, setConfigBeingHovered] = useState(null)\n  const [multipleInput, setMultipleInput] = useState([\n    'b',\n    'bc',\n    'ssbc',\n    'ss',\n    'abc'\n  ])\n  const [multipleInputConfigs, setMultipleInputConfigs] = useState(\n    multipleInput.map(input =>\n      resolveConfig(transitions, initialConfig(input), finalStates)\n    )\n  )\n  const [rejectedConfigs, setRejectedConfigs] = useState([])\n  const [inputString, setInputString] = useState('bc')\n\n  const setCy = cy => {\n    cyRef.current = cy\n    setShowModal(true)\n  }\n  const onSetMultipleInput = value => {\n    setMultipleInput(value)\n    setMultipleInputConfigs(\n      value.map(input =>\n        resolveConfig(transitions, initialConfig(input), finalStates)\n      )\n    )\n  }\n  const onConfigHover = (config, hoveringIn) => {\n    if (hoveringIn) {\n      setConfigBeingHovered(config)\n    } else {\n      setConfigBeingHovered(null)\n    }\n  }\n  const onInputStringChange = e => {\n    setInputString(e.target.value)\n  }\n  const onPlay = () => {\n    setConfigs([initialConfig(inputString)])\n    setRejectedConfigs([])\n  }\n  const onNext = () => {\n    const newConfigs = []\n    const newRejectedConfigs = []\n\n    for (let i = 0; i < configs.length; i++) {\n      const stepConfigs = step(transitions, configs[i])\n      const isConfigRejected = stepConfigs.length === 0\n\n      if (isConfigRejected) {\n        newRejectedConfigs.push(configs[i])\n      } else {\n        newConfigs.push(stepConfigs)\n      }\n    }\n\n    setConfigs(flatten(newConfigs))\n    setRejectedConfigs(newRejectedConfigs)\n  }\n  const saveAsImage = type => {\n    let image\n\n    if (type === 'image/jpeg') {\n      image = cyRef.current.jpeg()\n    } else if (type === 'image/png') {\n      image = cyRef.current.png()\n    }\n\n    if (image) {\n      const url = image.replace(\n        /^data:image\\/[^;]+/,\n        'data:application/octet-stream'\n      )\n      window.open(url)\n    }\n  }\n\n  return (\n    <Layout\n      main={\n        <ZoomedModal\n          main={\n            <Editor\n              cy={setCy}\n              layout={layout}\n              elements={elements}\n              transitions={transitions}\n              stepping={configs}\n              configHovered={configBeingHovered}\n            />\n          }\n          modal={<Instructions onClose={() => setShowModal(false)} />}\n          showModal={showModal}\n        />\n      }\n      side={\n        <Controls\n          inputString={inputString}\n          onInputStringChange={onInputStringChange}\n          onPlay={onPlay}\n          onNext={onNext}\n          finalStates={finalStates}\n          rejectedConfigs={rejectedConfigs}\n          configs={configs}\n          onConfigHover={onConfigHover}\n          layout={layout}\n          setLayout={setLayout}\n          saveAsImage={saveAsImage}\n          multipleInput={multipleInput}\n          setMultipleInput={onSetMultipleInput}\n          multipleInputConfigs={multipleInputConfigs}\n          openModal={() => setShowModal(true)}\n        />\n      }\n    />\n  )\n}\n","import React, { Component } from 'react'\nimport Automata from './automata'\n\nclass App extends Component {\n  render() {\n    return <Automata />\n  }\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import './index.css'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\nimport { AppRegistry } from 'react-native'\nimport 'typeface-montserrat'\n\nimport Cytoscape from 'cytoscape'\nimport edgehandles from 'cytoscape-edgehandles'\n\nCytoscape.use(edgehandles)\n\n// register the app\nAppRegistry.registerComponent('App', () => App)\n\nAppRegistry.runApplication('App', {\n  initialProps: {},\n  rootTag: document.getElementById('root')\n})\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}