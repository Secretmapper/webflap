(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{143:function(e,t,a){e.exports=a(216)},144:function(e,t,a){},216:function(e,t,a){"use strict";a.r(t);a(144);var n=a(0),r=a.n(n),o=a(5),i=a(37),l=a.n(i),c=a(77),s=a.n(c),d=a(33),u=a(108),f=a.n(u),b=a(78),g=a.n(b),m=a(62),p=a(3),h=a(4);function y(e){return r.a.createElement(p.a,{style:v.container},r.a.createElement(p.a,{style:v.side},e.side),r.a.createElement(p.a,{style:v.main},e.main))}var v=h.a.create({container:{flex:1,flexDirection:"row"},main:{flexDirection:"column",flex:1},side:{flexDirection:"column",flexShrink:0,width:250,zIndex:2}}),w=a(124),E=a(125),S=a(140),x=a(126),C=a(141),j=a(24),O=a(14),k=a.n(O),_=a(103),R=a(84),I=a(104),B=a(127),L=a(128),q=a.n(L),T=[{selector:"node",style:{"background-color":"white","background-image":"url(assets/circle.svg)","border-color":"black","border-width":1,color:"black",content:"data(label)",height:50,"text-valign":"center",width:50}},{selector:"node.dfa__state--final",style:{"background-fit":"cover","background-image":"url(assets/circle.svg)"}},{selector:"node.dfa__state--initial",style:{"border-color":"blue"}},{selector:"node.dfa__state--stepping",style:{"background-color":"#61bffc","transition-property":"background-color","transition-duration":"0.2s"}},{selector:"edge",style:{label:"data(label)","curve-style":"bezier","target-arrow-shape":"triangle",width:"1","text-background-color":"white","text-background-opacity":"1","text-background-shape":"rectangle"}},{selector:"node.dfa__state--config-hover",style:{"border-color":"#0d47a1","border-style":"dashed","border-width":2}},{selector:"edge.dfa__state--config-hover",style:{"line-color":"#0d47a1","line-style":"dashed","target-arrow-color":"#0d47a1",width:2}},{selector:"edge.autorotate",style:{"edge-text-rotation":"autorotate"}},{selector:".eh-handle",style:{"background-color":"red",width:12,height:12,shape:"ellipse","overlay-opacity":0,"border-width":12,"border-opacity":0}},{selector:".eh-hover",style:{"background-color":"red"}},{selector:".eh-source",style:{"border-width":2,"border-color":"red"}},{selector:".eh-target",style:{"border-width":2,"border-color":"red"}},{selector:".eh-preview, .eh-ghost-edge",style:{"background-color":"red","line-color":"red","target-arrow-color":"red","source-arrow-color":"red"}},{selector:".eh-ghost-edge.eh-preview-active",style:{opacity:0}}],P=(String.fromCharCode(955),String.fromCharCode(9251));function M(e,t){return 0===t.unprocessed.length&&e.has(t.state.data.id)}function F(e){return"".concat(e.left||P," ; ").concat(e.label||P," ; ").concat(e.right)}var D=function(e){function t(){return Object(w.a)(this,t),Object(S.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(E.a)(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return r.a.createElement(q.a,this.props)}}]),t}(r.a.Component),A=h.a.create({container:{flex:1,backgroundColor:"#fefefe",width:"100%"},labelInputContainer:{position:"absolute",transform:[{translateX:"-50%"},{translateY:"-50%"}]},labelInputRow:{flexDirection:"row"},labelInputAction:{fontSize:12,paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4},labelInputPicker:{backgroundColor:"rgba(244, 244, 244, 1)",outlineWidth:"thin",margin:2,width:80},labelInput:{backgroundColor:"rgba(244, 244, 244, 1)",textAlign:"center",outlineWidth:"thin",margin:2,width:80},labelInputText:{fontSize:16}}),H=function(e){var t=Object(n.useRef)(null),a=Object(n.useRef)(null),i=Object(n.useRef)(null),c=Object(n.useRef)(null),s=Object(n.useState)(void 0),d=Object(o.a)(s,2),u=d[0],f=d[1],b=Object(n.useState)(e.stepping),g=Object(o.a)(b,2),m=g[0],h=g[1],y=Object(n.useState)(e.configHovered),v=Object(o.a)(y,2),w=v[0],E=v[1],S=Object(n.useState)(null),x=Object(o.a)(S,2),C=x[0],O=x[1],L=Object(B.useDebouncedCallback)(function(){t.current&&e.onNodesChange(t.current.nodes().jsons())},1e3,[e.onNodesChange]),q=Object(o.a)(L,1)[0],M=Object(n.useCallback)(function(e){t.current.undoRedo({stackSizeLimit:15}).do("setAsInitial",e.target)},[t]),H=Object(n.useCallback)(function(a){var n=t.current.undoRedo({stackSizeLimit:15});e.finalStates.has(a.target.data().id)?n.do("unsetAsFinal",a.target):n.do("setAsFinal",a.target)},[t]);Object(n.useEffect)(function(){t.current.undoRedo().action("setAsInitial",function(a){var n=t.current,r=e.initialState;return e.setInitialState(a.data().id),n.getElementById(r).removeClass("dfa__state--initial"),[r,a.addClass("dfa__state--initial")]},function(a){var n=Object(o.a)(a,2),r=n[0],i=n[1],l=t.current;return e.setInitialState(r),l.getElementById(r).addClass("dfa__state--initial"),i.removeClass("dfa__state--initial")})},[e.initialState]),Object(n.useEffect)(function(){var a=t.current,n=a.undoRedo({stackSizeLimit:15});n.action("setAsFinal",function(t){return e.setFinalStates(e.finalStates.add(t.data().id)),t.addClass("dfa__state--final")},function(t){return e.setFinalStates(e.finalStates.delete(t.data().id)),t.removeClass("dfa__state--final")}),n.action("unsetAsFinal",function(t){return e.setFinalStates(e.finalStates.delete(t.data().id)),t.removeClass("dfa__state--final")},function(t){return e.setFinalStates(e.finalStates.add(t.data().id)),t.addClass("dfa__state--final")});var r,o=function(e){var t=e.target,a=t.renderedPosition(),n=a.x,r=a.y;O({x:n,y:r,id:t.id(),value:t.data("label"),valueLeft:"",valueRight:"",type:"node"}),c.current.focus(),t.data("label","")},i={menuRadius:100,selector:"node",commands:[{fillColor:"rgba(200, 200, 200, 0.75)",content:"Set/Unset as Initial",contentStyle:{},select:function(e){M({target:e})},enabled:!0},{fillColor:"rgba(200, 200, 200, 0.75)",content:"Set/Unset as Final",contentStyle:{},select:function(e){H({target:e})},enabled:!0},{fillColor:"rgba(200, 200, 200, 0.75)",content:"edit",contentStyle:{},select:function(e){o({target:e})},enabled:!0},{fillColor:"rgba(200, 200, 200, 0.75)",content:"delete",contentStyle:{},select:function(e){!function(e){var t=e.target;n.do("remove",t)}({target:e})},enabled:!0}],fillColor:"rgba(0, 0, 0, 0.75)",activeFillColor:"rgba(1, 105, 217, 0.75)",activePadding:10,indicatorSize:24,separatorWidth:3,spotlightPadding:4,minSpotlightRadius:24,maxSpotlightRadius:38,openMenuEvents:"cxttapstart taphold",itemColor:"white",itemTextShadowColor:"transparent",zIndex:9999,atMouse:!1};function s(e){(e.ctrlKey||e.metaKey)&&"BODY"===e.target.nodeName&&(e.preventDefault(),90===e.which?n.undo():89===e.which&&n.redo())}a.on("tap",function(e){if(!C&&(e.target||e.cyTarget)===a){var t=n.do("add",{data:{id:l()(),label:""},position:{x:e.position.x,y:e.position.y},classes:["dfa__state"]});o({target:t})}}),a.on("data",q),a.on("add",q),a.on("remove",q),a.on("position",q),a.cxtmenu(i),document.addEventListener("keydown",s);var d=0;return function e(){d++,a.edges().animate({style:{"line-dash-offset":-d}}),r=requestAnimationFrame(e)}(),function(){r&&cancelAnimationFrame(r),document.removeEventListener("keydown",s)}},["once"]),N(),K(),e.layout!==u&&(f(e.layout),t.current&&t.current.layout({name:e.layout}).run());var W=function(n){var r=t.current;setTimeout(function(){var t=k.a.findDOMNode(c.current),n=k.a.findDOMNode(a.current),o=k.a.findDOMNode(i.current);if(document.activeElement!==t&&document.activeElement!==n&&document.activeElement!==o){if("node"===C.type)r.$("#".concat(C.id)).data("label",t.value);else{var l=e.transitions.get(C.id);l.left=n.value||P,l.label=t.value||P,l.right=o.value,e.setTransitions(),r.$("#".concat(C.id)).data("label",F(l))}O(null)}},0)},z=Object(n.useCallback)(function(a){t.current.remove("#".concat(C.id)),e.transitions.delete(C.id),e.setTransitions(),O(null)},[t.current,C]);return r.a.createElement(p.a,{style:A.container},r.a.createElement(D,{cy:function(a){t.current=a,e.cy(a);var n=t.current;n.edgehandles({preview:!1,loopAllowed:function(){return!0},complete:function(t,a,n){e.transitions.set(n.id(),{id:n.id(),label:n.label||P,left:P,right:"R",source:{data:t.data()},target:{data:a.data()}}),e.setTransitions(),r({target:n.first()})}});var r=function(t){var a=t.target,n=a.renderedMidpoint(),r=n.x,o=n.y,i=e.transitions.get(a.id()),l=i.label,s=i.left,d=i.right;O({x:r,y:o,id:a.id(),value:l,valueLeft:s,valueRight:d,type:"edge"}),c.current.focus(),a.data("label","")};n.on("taphold","edge",r),N(),K()},layout:e.layout?{name:e.layout}:null,elements:e.elements,stylesheet:T,style:{height:"100%",width:"100%"}}),C&&r.a.createElement(p.a,{style:[A.labelInputContainer,{left:C.x,top:C.y}]},r.a.createElement(p.a,{style:A.labelInputRow},"node"!==C.type&&r.a.createElement(_.a,{selectTextOnFocus:!0,ref:a,style:[A.labelInput,A.labelInputText],value:C.valueLeft||"",placeholder:P,onChange:function(e){O(Object(j.a)({},C,{valueLeft:e.target.value}))},onBlur:W}),r.a.createElement(_.a,{selectTextOnFocus:!0,ref:c,style:[A.labelInput,A.labelInputText],value:C.value||"",onChange:function(e){O(Object(j.a)({},C,{value:e.target.value}))},onBlur:W}),"node"!==C.type&&r.a.createElement(R.a,{ref:i,selectedValue:C.valueRight||"R",onValueChange:function(e){O(Object(j.a)({},C,{valueRight:e}))},style:A.labelInputPicker},r.a.createElement(R.a.Item,{label:"L",value:"L"}),r.a.createElement(R.a.Item,{label:"R",value:"R"})),"node"!==C.type&&r.a.createElement(I.a,{style:A.labelInputAction,title:"Remove",onPress:z}))));function N(){if(t.current&&e.stepping!==m){for(var a=0;a<m.length;a++)t.current.getElementById(m[a].state.data.id).removeClass("dfa__state--stepping");h(e.stepping);for(var n=0;n<e.stepping.length;n++)t.current.getElementById(e.stepping[n].state.data.id).addClass("dfa__state--stepping")}}function K(){if(t.current&&e.configHovered!==w)if(E(e.configHovered),e.configHovered){var a=e.configHovered;do{var n=t.current.getElementById(a.state.data.id);n.addClass("dfa__state--config-hover"),a.parent&&t.current.getElementById(a.parent.state.data.id).edgesTo(n).addClass("dfa__state--config-hover"),a=a.parent}while(a)}else if(w){var r=w;do{var o=t.current.getElementById(r.state.data.id);o.removeClass("dfa__state--config-hover"),r.parent&&t.current.getElementById(r.parent.state.data.id).edgesTo(o).removeClass("dfa__state--config-hover"),r=r.parent}while(r)}}},W=a(139);var z=h.a.create({container:{position:"relative",height:"100%",width:"100%"},main:{height:"100%",width:"100%"},overlay:{backgroundColor:"rgba(0, 0, 0, 0.2)",position:"absolute",height:"100%",width:"100%"},modal:{backgroundColor:"white",borderRadius:4,padding:18,position:"absolute",top:"50%",left:"50%",transform:[{translateX:"-50%"},{translateY:"-50%"}],maxWidth:800,maxHeight:"90%",overflow:"scroll",width:"90%"}}),N=function(e){return r.a.createElement(p.a,{style:z.container},r.a.createElement(W.a,{from:{scale:1},to:{scale:e.showModal?.9:1}},function(t){return r.a.createElement(p.a,{style:[{transform:[{scale:t.scale}]},z.main]},e.main)}),e.showModal&&r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{style:z.overlay}),r.a.createElement(p.a,{style:z.modal},e.modal)))},K=a(56);var J=h.a.create({container:{},heading:{textAlign:"center",fontSize:18,paddingTop:4,paddingBottom:16},text:{marginBottom:8},textBottom:{marginBottom:16},actions:{textAlign:"center"}}),$=function(e){return r.a.createElement(p.a,{style:J.container},r.a.createElement(K.a,{style:J.heading},"WebFLAP is a modern finite automaton maker and visualizer"),r.a.createElement(K.a,{style:J.text},"Create a node by clicking anywhere on the canvas"),r.a.createElement(K.a,{style:J.text},"Click on the red circle and drag between two nodes to create an edge"),r.a.createElement(K.a,{style:J.text},"Long press/hold on a node/edge to show actions (edit labels, set as initial/final state)"),r.a.createElement(K.a,{style:J.textBottom},"You can view these instructions again at any time by clicking 'How to use' on the left"),r.a.createElement(K.a,{style:J.actions},r.a.createElement(I.a,{title:"Start Editing",onPress:e.onClose})))},U=a(65),V=a(93),G=a.n(V);var Y=h.a.create({sample:{cursor:"pointer",borderColor:"rgba(0,0,0,0)",borderWidth:0,borderLeftWidth:3,shadowOffset:{width:0,height:0},shadowColor:"black",shadowOpacity:.2,shadowRadius:1,marginRight:16},sampleSelected:{borderColor:"#5895F0",borderWidth:0,borderLeftWidth:3,boxSizing:"border-box",overflow:"hidden"},sampleImg:{borderBottomWidth:1,borderColor:"rgba(0,0,0,0.1)",height:200,width:200},text:{marginBottom:8}}),Z={title:{fontSize:12,padding:4}},X=function(e){var t=Object(n.useCallback)(function(){return e.onSelectSample(e.sample.id)},[]);return r.a.createElement(U.a,{onPress:t},r.a.createElement(p.a,{style:[Y.sample,e.selected&&Y.sampleSelected]},r.a.createElement("div",{style:Z.title},r.a.createElement(G.a.Context,{input:"ascii",script:"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=AM_HTMLorMML",options:{asciimath2jax:{useMathMLspacing:!0,delimiters:[["$$","$$"]],preview:"none"}}},r.a.createElement(G.a.Text,{text:e.sample.text})))))},Q={initial:"new58",final:'["new63"]',states:'[{"data":{"id":"new58","label":"q1"},"position":{"x":127.67500000000007,"y":229},"classes":"dfa__state dfa__state--initial"},{"data":{"id":"new36","label":"q2"},"position":{"x":235.4375,"y":171},"classes":"dfa__state"},{"data":{"id":"new13","label":"q3"},"position":{"x":516.4096144329416,"y":171.96563697820625},"classes":"dfa__state"},{"data":{"id":"new78","label":"q5"},"position":{"x":350.4128982470203,"y":94.20993578483262},"classes":"dfa__state"},{"data":{"id":"new18","label":"q4"},"position":{"x":441.30149797976117,"y":331.4909346346748},"classes":"dfa__state"},{"data":{"id":"new63","label":"qacc"},"position":{"x":255.02499999999986,"y":334},"classes":"dfa__state dfa__state--final"}]',transitions:'[["b404f265-422f-4db7-a0c9-d471879eabaa",{"id":"b404f265-422f-4db7-a0c9-d471879eabaa","source":"new58","target":"new36","left":"0","label":"'.concat(String.fromCharCode(9251),'","right":"R"}],["07ade13b-880a-4ab7-a342-a5c3242f8082",{"id":"07ade13b-880a-4ab7-a342-a5c3242f8082","source":"new13","target":"new13","left":"x","label":"x","right":"R"}],["6d6430b2-62f3-4df7-8676-79ac0acf8fcb",{"id":"6d6430b2-62f3-4df7-8676-79ac0acf8fcb","source":"new36","target":"new13","left":"0","label":"x","right":"R"}],["35862f3c-965f-44af-93d1-2132ebca76a3",{"id":"35862f3c-965f-44af-93d1-2132ebca76a3","source":"new13","target":"new78","left":"').concat(String.fromCharCode(9251),'","label":"').concat(String.fromCharCode(9251),'","right":"L"}],["845d130e-a98c-4c20-a981-621e965cf80a",{"id":"845d130e-a98c-4c20-a981-621e965cf80a","source":"new78","target":"new36","left":"').concat(String.fromCharCode(9251),'","label":"').concat(String.fromCharCode(9251),'","right":"R"}],["d62e354d-cfe7-4635-b7ae-c51fa58adc13",{"id":"d62e354d-cfe7-4635-b7ae-c51fa58adc13","source":"new78","target":"new78","left":"0","label":"0","right":"L"}],["0fb5d44f-ce7f-4e5e-855c-cf579dac6a78",{"id":"0fb5d44f-ce7f-4e5e-855c-cf579dac6a78","source":"new18","target":"new13","left":"0","label":"x","right":"R"}],["f1dd9596-0949-444b-a24a-4c9bca5a9837",{"id":"f1dd9596-0949-444b-a24a-4c9bca5a9837","source":"new13","target":"new18","left":"0","label":"0","right":"R"}],["8240d7f2-b62b-480f-92f2-df9fcba7f0ab",{"id":"8240d7f2-b62b-480f-92f2-df9fcba7f0ab","source":"new36","target":"new63","left":"').concat(String.fromCharCode(9251),'","label":"').concat(String.fromCharCode(9251),'","right":"R"}],["9ceb54ef-05e6-4cdb-8da9-aaeab7b88c43",{"id":"9ceb54ef-05e6-4cdb-8da9-aaeab7b88c43","source":"new36","target":"new36","left":"x","label":"x","right":"R"}],["e590e0f4-654a-4d1a-890e-4fa0b3e8d52d",{"id":"e590e0f4-654a-4d1a-890e-4fa0b3e8d52d","source":"new18","target":"new18","left":"x","label":"x","right":"R"}],["1b6a77cc-b2be-4a45-b9ef-784762ea684f",{"id":"1b6a77cc-b2be-4a45-b9ef-784762ea684f","label":"x","left":"x","right":"L","source":"new78","target":"new78"}]]'),multipleInput:'["0","00","0000","00000"]'},ee={initial:"new0",final:'["new63","new79"]',states:'[{"data":{"id":"new0","label":"q1"},"position":{"x":361,"y":70},"classes":"dfa__state dfa__state--initial dfa__state--stepping"},{"data":{"id":"new64","label":"q8"},"position":{"x":360,"y":209},"classes":"dfa__state"},{"data":{"id":"new79","label":"qacc"},"position":{"x":365.62344463125123,"y":319.04736968541204},"classes":"dfa__state dfa__state--final"},{"data":{"id":"new52","label":"q2"},"position":{"x":259.69329810209547,"y":202.41148210417083},"classes":"dfa__state"},{"data":{"id":"new70","label":"q4"},"position":{"x":264.0461686281381,"y":301.84664905104773},"classes":"dfa__state"},{"data":{"id":"new84","label":"q6"},"position":{"x":362.6234446312513,"y":480.2818159979246},"classes":"dfa__state"},{"data":{"id":"new21","label":"q7"},"position":{"x":19.297862119736443,"y":232.43877011869873},"classes":"dfa__state"},{"data":{"id":"new57","label":"q3"},"position":{"x":507.0698534708441,"y":211.7306269520656},"classes":"dfa__state"},{"data":{"id":"new39","label":"q5"},"position":{"x":509.6110016812612,"y":317.18827768437455},"classes":"dfa__state"}]',transitions:'[["4ee307ff-2e39-4d90-add8-eeb61e0c96d7",{"id":"4ee307ff-2e39-4d90-add8-eeb61e0c96d7","label":"#","left":"#","right":"R","source":"new0","target":"new64"}],["13025fdc-e6cc-45da-bace-dcbaf73f91de",{"id":"13025fdc-e6cc-45da-bace-dcbaf73f91de","label":"x","left":"x","right":"R","source":"new64","target":"new64"}],["c9bd98ee-4ff9-4cdd-931a-52a389d839ce",{"id":"c9bd98ee-4ff9-4cdd-931a-52a389d839ce","label":"'.concat(String.fromCharCode(9251),'","left":"').concat(String.fromCharCode(9251),'","right":"R","source":"new64","target":"new79"}],["21968863-c7a7-4f7a-9426-ba5a91b67756",{"id":"21968863-c7a7-4f7a-9426-ba5a91b67756","label":"1","left":"1","right":"R","source":"new52","target":"new52"}],["ef234d35-9399-4560-a9b7-334c0f78b94a",{"id":"ef234d35-9399-4560-a9b7-334c0f78b94a","label":"x","left":"0","right":"R","source":"new0","target":"new52"}],["23814de3-a59a-4785-898a-65df99c30503",{"id":"23814de3-a59a-4785-898a-65df99c30503","label":"#","left":"#","right":"R","source":"new52","target":"new70"}],["86aded89-f355-43c3-97d0-bbfd97fa05ea",{"id":"86aded89-f355-43c3-97d0-bbfd97fa05ea","label":"x","left":"x","right":"R","source":"new70","target":"new70"}],["c274e728-74d9-4331-8aa8-3a5f62259ff3",{"id":"c274e728-74d9-4331-8aa8-3a5f62259ff3","label":"x","left":"0","right":"L","source":"new70","target":"new84"}],["e580583c-4759-4718-8a51-e4cb34544b2a",{"id":"e580583c-4759-4718-8a51-e4cb34544b2a","label":"0","left":"0","right":"L","source":"new84","target":"new84"}],["456a740f-916f-48f7-8c24-0698bc217fa0",{"id":"456a740f-916f-48f7-8c24-0698bc217fa0","label":"1","left":"1","right":"L","source":"new84","target":"new84"}],["b4f3ada3-37f0-49d7-956f-3074fa16f77d",{"id":"b4f3ada3-37f0-49d7-956f-3074fa16f77d","label":"x","left":"x","right":"L","source":"new84","target":"new84"}],["90bf4304-dda4-4ea5-bf9c-c4a90b062cff",{"id":"90bf4304-dda4-4ea5-bf9c-c4a90b062cff","label":"#","left":"#","right":"L","source":"new84","target":"new21"}],["0b49a588-97d0-470f-b337-d0c020adc4eb",{"id":"0b49a588-97d0-470f-b337-d0c020adc4eb","label":"x","left":"x","right":"R","source":"new21","target":"new0"}],["0aea25b0-c37e-474b-a611-08e5153de6a4",{"id":"0aea25b0-c37e-474b-a611-08e5153de6a4","label":"0","left":"0","right":"R","source":"new57","target":"new57"}],["24f33977-192c-42b4-a45b-107aafc04d65",{"id":"24f33977-192c-42b4-a45b-107aafc04d65","label":"0","left":"0","right":"R","source":"new52","target":"new52"}],["eb0283b8-24dd-4d3e-8c99-0c7db729722b",{"id":"eb0283b8-24dd-4d3e-8c99-0c7db729722b","label":"1","left":"1","right":"R","source":"new57","target":"new57"}],["376841ca-45bd-4dd7-ae7b-2aabdc510014",{"id":"376841ca-45bd-4dd7-ae7b-2aabdc510014","label":"x","left":"1","right":"R","source":"new0","target":"new57"}],["bfd2051a-000d-4b8d-9256-5102f8af3714",{"id":"bfd2051a-000d-4b8d-9256-5102f8af3714","label":"#","left":"#","right":"R","source":"new57","target":"new39"}],["9b0a2aab-9a5c-44e1-869c-4eed6fb91c3f",{"id":"9b0a2aab-9a5c-44e1-869c-4eed6fb91c3f","label":"x","left":"1","right":"L","source":"new39","target":"new84"}],["de36e4af-cb82-4e20-93c3-48912209a561",{"id":"de36e4af-cb82-4e20-93c3-48912209a561","label":"0","left":"0","right":"L","source":"new21","target":"new21"}],["1afdc79c-35c5-4a8e-864f-9596ee0751e5",{"id":"1afdc79c-35c5-4a8e-864f-9596ee0751e5","label":"1","left":"1","right":"L","source":"new21","target":"new21"}],["11a08518-5e1f-43d2-a19b-cd6221d9bdd6",{"id":"11a08518-5e1f-43d2-a19b-cd6221d9bdd6","label":"x","left":"x","right":"R","source":"new39","target":"new39"}]]'),multipleInput:'["0#0","1#1","10#10","101#101","010101#010101","010#101","101#111"]'},te={initial:"AYOw8O2GKRn0lGPP28-5N",final:'["new63","1d1cb11e-1b11-4ab1-aa0d-e31749e37ac0","0-bMeEqU7pJh0awZaZRsC"]',states:'[{"data":{"id":"pi6R36VEyWJKyUqKKUwHx","label":"q1"},"position":{"x":289,"y":321},"classes":"dfa__state"},{"data":{"id":"dmys8BTRQuMohmTujkyCC","label":"q2"},"position":{"x":396,"y":230},"classes":"dfa__state dfa__state--stepping"},{"data":{"id":"0-bMeEqU7pJh0awZaZRsC","label":"qacc"},"position":{"x":508,"y":318},"classes":"dfa__state dfa__state--final"},{"data":{"id":"AYOw8O2GKRn0lGPP28-5N","label":"q0"},"position":{"x":405,"y":438},"classes":"dfa__state dfa__state--initial"}]',transitions:'[["d99fcac0-df1f-4381-b260-4466beadc63f",{"id":"d99fcac0-df1f-4381-b260-4466beadc63f","label":"'.concat(String.fromCharCode(9251),'","left":"').concat(String.fromCharCode(9251),'","right":"R","source":"pi6R36VEyWJKyUqKKUwHx","target":"dmys8BTRQuMohmTujkyCC"}],["36920930-430f-4eda-9c77-b3cbbe0b9c18",{"id":"36920930-430f-4eda-9c77-b3cbbe0b9c18","label":"').concat(String.fromCharCode(9251),'","left":"').concat(String.fromCharCode(9251),'","right":"L","source":"dmys8BTRQuMohmTujkyCC","target":"pi6R36VEyWJKyUqKKUwHx"}],["e71e6be0-559e-468d-9ef1-114f8717adad",{"id":"e71e6be0-559e-468d-9ef1-114f8717adad","label":"0","left":"0","right":"R","source":"AYOw8O2GKRn0lGPP28-5N","target":"pi6R36VEyWJKyUqKKUwHx"}],["bb8fc41b-0bf8-4505-aaf6-6a207868d15e",{"id":"bb8fc41b-0bf8-4505-aaf6-6a207868d15e","label":"1","left":"1","right":"R","source":"AYOw8O2GKRn0lGPP28-5N","target":"0-bMeEqU7pJh0awZaZRsC"}],["dcf04e95-ee53-4277-956d-3fd68994ff7f",{"id":"dcf04e95-ee53-4277-956d-3fd68994ff7f","label":"0","left":"0","right":"R","source":"pi6R36VEyWJKyUqKKUwHx","target":"pi6R36VEyWJKyUqKKUwHx"}]]'),multipleInput:'["0", "00", "0000", "1"]'},ae={id:"0n2",uri:"".concat("","/assets/img/0n2.png"),text:"$${0^{2^{n}}|n\\geq 0}$$ i.e. 0s whose length is a power of 2",data:Q},ne={id:"w#w",uri:"".concat("","/assets/img/w#w.png"),text:"$${w#w| w in {0,1}^{ast}}$$ i.e. two identical strings separated by #",data:ee},re={id:"loop",uri:"".concat("","/assets/img/loop.png"),text:"infinite loop example: loop on any 0, accept if first is 1 $${ 1w | w in {0,1}^{ast}}$$ ",data:te};var oe=h.a.create({container:{},heading:{fontSize:18,paddingTop:4,paddingBottom:16},samplesWindow:{},myFiles:{backgroundColor:"rgba(0, 0, 0, 0.1)",justifyContent:"center",alignItems:"center",height:50,marginBottom:8},myFilesText:{fontSize:16},samples:{},text:{marginBottom:8},textBottom:{marginBottom:16},actions:{justifyContent:"flex-end",flexDirection:"row",marginTop:8},cancelBtn:{marginRight:8}}),ie=function(e){var t=Object(n.useState)(null),a=Object(o.a)(t,2),i=a[0],l=a[1],c=Object(n.useCallback)(function(t){i===ae.id?e.onLoadFile(ae.data):i===ne.id?e.onLoadFile(ne.data):i===re.id&&e.onLoadFile(re.data)},[i]);return r.a.createElement(p.a,{style:oe.container},r.a.createElement(p.a,{style:oe.samplesWindow},r.a.createElement(K.a,{style:oe.heading},"My Files"),r.a.createElement(p.a,{style:oe.myFiles},r.a.createElement(K.a,{style:oe.myFilesText},"Coming Soon...")),r.a.createElement(K.a,{style:oe.heading},"Turing Machine Examples"),r.a.createElement(p.a,{style:oe.samples},r.a.createElement(X,{selected:i===ae.id,sample:ae,onSelectSample:l}),r.a.createElement(X,{selected:i===ne.id,sample:ne,onSelectSample:l}),r.a.createElement(X,{selected:i===re.id,sample:re,onSelectSample:l}))),r.a.createElement(p.a,{style:oe.actions},r.a.createElement(p.a,{style:oe.cancelBtn},r.a.createElement(I.a,{title:"Cancel",onPress:e.onCancel,color:"#9D9D9D"})),r.a.createElement(I.a,{disabled:!i,title:"Load",onPress:c})))},le=a(130),ce=a.n(le);function se(e){return r.a.createElement(K.a,{accessibilityRole:"heading",style:[de.heading,e.style]},e.children)}var de=h.a.create({heading:{fontFamily:"montserrat",fontWeight:"400",fontSize:"2rem"}}),ue=a(43);function fe(e,t){if("web"!==ue.a.OS)return!1;var a=Object(n.useRef)(!1),r=Object(n.useState)(!1),i=Object(o.a)(r,2),l=i[0],c=i[1];return Object(n.useEffect)(function(){var n=function(e){var t=e&&(e.current||e);t&&t.getNode&&t.getNode()&&(t=t.getNode());t&&t._touchableNode&&(t=t._touchableNode);t&&t._node&&(t=t._node);"web"===ue.a.OS&&(t=Object(O.findDOMNode)(t));return t}(e);if(n&&"function"===typeof n.addEventListener){var r=function(e){a.current!==e&&(a.current=e,t?t(e):c(e))},o=function(){return r(!0)},i=function(){return r(!1)};return n.addEventListener("mouseenter",o),n.addEventListener("mouseleave",i),function(){n&&(n.removeEventListener("mouseenter",o),n.removeEventListener("mouseleave",i))}}},[e&&e.current,t]),l}var be=r.a.forwardRef(function(e,t){return r.a.createElement("div",{ref:t,style:Object(j.a)({},me.cell,e.current?me.cellHighlighted:{})},r.a.createElement(K.a,{style:[pe.cellText,e.current&&pe.cellTextHighlighted]},e.value))}),ge=function(e,t){t.current&&e.current&&e.current.scrollTo(t.current.offsetLeft-95.5,0)};var me={container:{backgroundColor:"rgba(255,255,200,0.4)",border:0,borderColor:"gray",borderStyle:"dotted",boxShadow:"0px 1px 3px rgba(0,0,0,0.2)",boxSizing:"border-box",display:"flex",flexDirection:"row",marginBottom:4,marginTop:4},cell:{borderColor:"gray",borderWidth:0,borderRightWidth:1,borderStyle:"dotted",display:"flex",alignItems:"center",justifyContent:"center",minHeight:19,minWidth:19,paddingBottom:2},cellHighlighted:{backgroundColor:"black"}},pe=h.a.create({cellText:{textAlign:"center"},cellTextHighlighted:{color:"white",textAlign:"center"}}),he=function(e){var t=Object(n.useMemo)(function(){return e.tape.split("")},[e.tape]),a=Object(n.useState)(!1),i=Object(o.a)(a,2),l=i[0],c=i[1],s=Object(n.useRef)(null),d=Object(n.useRef)(null);return Object(n.useEffect)(function(){c(!0),ge(d,s)},[e.head,t]),r.a.createElement("div",{ref:d,className:"hide-scrollbar",style:Object(j.a)({},me.container,{opacity:l?100:0})},t.map(function(t,a){return r.a.createElement(be,{key:a,value:t,current:a===e.head,ref:a===e.head?s:void 0})}))};function ye(e){return r.a.createElement(p.a,{style:Ee.container},e.rejected.map(function(t){return r.a.createElement(ve,{rejected:!0,type:e.type,key:t.hash,config:t,onHover:e.onConfigHover,finalStates:e.finalStates})}),e.configurations.map(function(t){return r.a.createElement(ve,{type:e.type,key:t.hash,config:t,onHover:e.onConfigHover,finalStates:e.finalStates})}))}function ve(e){var t=Object(n.useRef)(null),a=Object(n.useState)(!1),i=Object(o.a)(a,2),l=i[0],c=i[1];return fe(t,function(t){c(t),e.onHover(e.config,t)}),r.a.createElement(p.a,{ref:t,style:[Ee.config,!!l&&Ee.configHovered,e.rejected&&Ee.configRejected,M(e.finalStates,e.config)&&Ee.configFinal]},r.a.createElement(K.a,null,e.config.state.data.label),"dfa"===e.type&&r.a.createElement(K.a,null,r.a.createElement(K.a,{style:Ee.processed},we(e.config)),r.a.createElement(K.a,{style:Ee.unprocessed},e.config.unprocessed)),"tm"===e.type&&r.a.createElement(he,{tape:e.config.tape,head:e.config.head}))}var we=function(e){return e.input.substr(0,e.input.length-e.unprocessed.length)},Ee=h.a.create({container:{flexDirection:"column"},config:{borderColor:"rgba(0, 0, 0, 0.1)",borderRadius:4,borderWidth:1,marginBottom:8,padding:8,cursor:"pointer",minHeight:50},configHovered:{borderColor:"rgba(0, 0, 0, 0.15)",boxShadow:"0 3px 9px 0 rgba(46, 50, 60, .09)"},configRejected:{backgroundColor:"#ffebee"},configFinal:{backgroundColor:"#ccff90"},processed:{color:"green"},unprocessed:{color:"red"}}),Se=a(81);function xe(e){var t=e.config&&!e.config.done;return r.a.createElement(p.a,{style:je.panel},t&&r.a.createElement(p.a,null,r.a.createElement(K.a,{style:Ce.text},"! Paused - simulation is taking too many steps"),r.a.createElement(p.a,{style:je.accent},r.a.createElement(K.a,{style:Ce.text},e.config.value," configurations generated"),r.a.createElement("a",{style:Ce.textLink,onClick:e.onContinue},"Continue?"))),r.a.createElement("a",{style:Ce.textLink,onClick:e.onSimulateStepByStep},"Simulate Step by Step"))}xe.defaultProps={config:{}};var Ce={text:{fontSize:14,marginTop:4},textLink:{cursor:"pointer",fontSize:14,marginTop:4}},je=h.a.create({panel:{borderColor:"rgba(0, 0, 0, 0.3)",borderLeftWidth:1,paddingLeft:8,marginBottom:8,marginLeft:4},accent:{marginLeft:12}}),Oe=xe;function ke(e){return r.a.createElement(p.a,null,e.strings.map(function(t,a){return r.a.createElement(_e,{key:t,string:t,configIndex:a,config:e.configs[a],continueConfig:e.continueConfig,onHover:e.onConfigHover,onInputPress:e.onInputPress})}))}function _e(e){var t=e.config&&e.config.value&&e.config.done,a=Object(n.useRef)(null),i=Object(n.useState)(!1),l=Object(o.a)(i,2),c=l[0],s=l[1],d=Object(n.useState)(!1),u=Object(o.a)(d,2),f=u[0],b=u[1];fe(a,function(t){e.config&&(s(t),e.config.done&&e.onHover(e.config.value,t))}),Object(n.useEffect)(function(){return function(){e.onHover(null,!1)}},["once"]);var g=Object(n.useCallback)(function(){b(function(e){return!e})},[b]),m=Object(n.useCallback)(function(){e.onInputPress(e.string)},[e.onInputPress]),h=Object(n.useCallback)(function(){e.continueConfig(e.configIndex)},[e.config,e.continueConfig,e.configIndex]);return r.a.createElement(p.a,null,r.a.createElement(U.a,{onPress:g},r.a.createElement(p.a,{ref:a,"data-for":"pause-warning-".concat(e.string),"data-tip":!0,style:[Be.row,t&&Be.rowAccepted,!t&&Be.rowRejected,t&&c&&Be.rowHoveredAccepted,!t&&c&&Be.rowHoveredRejected]},r.a.createElement(K.a,null,e.string),r.a.createElement(p.a,null,r.a.createElement(Re,{config:e.config}),!1))),f&&r.a.createElement(Oe,{config:e.config,onContinue:h,onSimulateStepByStep:m}))}function Re(e){return e.config&&!e.config.done?r.a.createElement(K.a,null,"!"):r.a.createElement(r.a.Fragment,null)}ke.defaultProps={onHover:function(){},onInputPress:function(){}};var Ie=ke,Be=h.a.create({row:{borderTopColor:"rgba(0,0,0,0.02)",borderRadius:2,borderTopWidth:1,cursor:"pointer",flexDirection:"row",justifyContent:"space-between",marginBottom:1,paddingLeft:8,paddingRight:8,paddingTop:4,paddingBottom:4},rowAccepted:{backgroundColor:"#ccff90"},rowRejected:{backgroundColor:"#ffebee"},rowHovered:{backgroundColor:"rgba(0,0,0,0.03)"},rowHoveredAccepted:{backgroundColor:"#b2fe7c"},rowHoveredRejected:{backgroundColor:"#ffd1d8"},loadingContainer:{position:"relative",bottom:3}}),Le=a(142);function qe(e){var t=Object(n.useState)(e.currMultipleInput.join("\n")),a=Object(o.a)(t,2),i=a[0],l=a[1];return r.a.createElement(p.a,{style:Te.container},r.a.createElement(p.a,{style:Te.column},r.a.createElement(se,{style:Te.heading},"Edit Test Input",r.a.createElement(K.a,{style:Te.headingSmall},"(separate test input by newline)")),r.a.createElement(_.a,{style:Te.editorText,value:i,onChange:function(e){l(e.target.value)},multiline:!0,placeholer:"Input cases"}),r.a.createElement(I.a,{title:"Save",onPress:function(t){e.onSaveMultilineInput(i.split("\n"))}})),r.a.createElement(p.a,{style:[Te.column,Te.columnEditor]},r.a.createElement(Le.a,{accept:"text/plain",onDrop:function(t,a){0!==a.length&&alert("Please use plain/text (.txt) formats!");var n=new FileReader;n.onload=function(t){e.onSaveMultilineInput(t.target.result.split("\n"))},n.readAsText(t[0],"UTF-8")}},function(e){var t=e.getRootProps,a=e.getInputProps,n=e.isDragActive;return r.a.createElement("div",Object.assign({},t(),{style:Object(j.a)({},Te.upload,n?Te.uploadDragActive:{})}),n?"Drop files here...":r.a.createElement("div",null,r.a.createElement("div",{style:Te.uploadLabel},"Drag Input File"),r.a.createElement("small",{style:Te.uploadLabel},"or"),r.a.createElement("div",null,"Click to Browse Input File")),r.a.createElement("input",a()))})),r.a.createElement(p.a,{style:Te.or},r.a.createElement(K.a,{style:Te.orText},"OR")))}var Te=h.a.create({container:{position:"relative",flex:1,flexDirection:"row",height:"100%",width:"100%"},or:{position:"absolute",left:"50%",top:"50%",transform:[{translateX:"-50%"},{translateY:"-50%"}],alignItems:"center",justifyContent:"center",backgroundColor:"white",borderRadius:50,boxShadow:"0 0 16px rgba(0, 0, 0, 0.3)",height:60,width:60},orText:{fontSize:24},column:{padding:22,flex:1},heading:{fontSize:18,paddingBottom:4},headingSmall:{fontSize:13,marginLeft:4,color:"#808080"},columnEditor:{backgroundColor:"#efefef"},editorText:{boxShadow:"inset 0 0 4px #b0b0b0",height:"100%",padding:8,marginTop:4,marginBottom:4,lineHeight:18,outlineStyle:"none"}});function Pe(e){return r.a.createElement(p.a,null,r.a.createElement(p.a,{style:Me.textWithButtonContainer},r.a.createElement(_.a,{value:e.inputString,onChange:e.onInputStringChange,style:Me.input,placeholder:"Input String",autoFocus:!0}),r.a.createElement(I.a,{style:Me.control,title:"GO",onPress:e.onPlay})),e.isStepByStepStarted&&r.a.createElement(p.a,{style:Me.controls},r.a.createElement(I.a,{style:Me.control,title:"Reset",onPress:e.onPlay}),r.a.createElement(p.a,{style:Me.controlGap}),r.a.createElement(I.a,{style:Me.control,title:"Next",onPress:e.onNext})))}Te.upload={borderWidth:2,borderStyle:"dashed",borderColor:"#e0e0e0",cursor:"pointer",display:"flex",flex:1,flexDirection:"column",alignContent:"center",justifyContent:"center",height:"100%",color:"#909090",fontSize:24,textAlign:"center"},Te.uploadDragActive={color:"#2096F3",borderColor:"#2096F3"},Te.uploadLabel={display:"block",paddingBottom:8};var Me=h.a.create({textWithButtonContainer:{flexDirection:"row",marginBottom:8},input:{backgroundColor:"rgba(240, 240, 240, 1)",borderColor:"rgba(0,0,0,0.2)",borderWidth:1,fontSize:14,outlineStyle:"none",padding:8},controls:{flexDirection:"row",marginBottom:8},controlGap:{width:4}});var Fe=function(e){var t=Object(n.useRef)(null),a=fe(t),o=Object(n.useRef)(null),i=fe(o),l=Object(n.useRef)(null),c=fe(l);return r.a.createElement(p.a,null,r.a.createElement(p.a,{ref:t,style:De.linkContainer},r.a.createElement(K.a,{style:[De.link,a&&De.linkHover],onPress:e.onViewInstructions},"How to use")),r.a.createElement(p.a,{ref:o,style:De.linkContainer},r.a.createElement(K.a,{style:[De.link,i&&De.linkHover],accessibilityRole:"link",target:"_blank",href:"//github.com/Secretmapper/webflap"},"Source code")),r.a.createElement(p.a,{ref:l,style:[De.linkContainer,De.linkBottom]},r.a.createElement(K.a,{style:[De.link,c&&De.linkHover],accessibilityRole:"link",target:"_blank",href:"//github.com/Secretmapper/webflap/issues"},"Report issues")),r.a.createElement(p.a,null,r.a.createElement(K.a,{style:De.authorLinkContainer},r.a.createElement(K.a,null,"Made by "),r.a.createElement(K.a,{style:De.authorLink,accessibilityRole:"link",target:"_blank",href:"//twitter.com/Secretmapper"},"@secretmapper"))))},De=h.a.create({linkContainer:{borderTopColor:"rgba(0, 0, 0, 0.05)",borderTopWidth:1},linkBottom:{borderBottomColor:"rgba(0, 0, 0, 0.05)",borderBottomWidth:1},link:{fontFamily:"montserrat",fontSize:13,borderRadius:3,color:"#818387",display:"block",marginLeft:-10,marginRight:-10,paddingBottom:8,paddingLeft:15,paddingRight:15,paddingTop:8},linkHover:{backgroundColor:"rgba(0, 0, 0, 0.03)",color:"black",cursor:"pointer"},authorLinkContainer:{paddingBottom:10,paddingTop:10},authorLink:{color:"#71BCF7"},navLink:{paddingBottom:4,marginBottom:4}});function Ae(e){var t=Object(n.useState)(null),a=Object(o.a)(t,2),i=a[0],l=a[1],c=Object(n.useState)(!1),s=Object(o.a)(c,2),d=s[0],u=s[1],f=e.inputString,b=e.onInputStringChange,g=e.onNext,m=e.finalStates,h=e.rejectedConfigs,y=e.configs,v=e.onConfigHover,w=e.layout,E=e.setLayout,S=e.saveAsImage,x=e.multipleInput,C=e.multipleInputConfigs,j=Object(n.useState)(!1),O=Object(o.a)(j,2),k=O[0],_=O[1],I=Object(n.useCallback)(function(){_(!0),e.onPlay()},[e.setIsStepByStepStarted,e.onPlay]);return r.a.createElement(p.a,{style:We.side},r.a.createElement(se,{style:We.heading},"WebFLAP"),r.a.createElement(se,{style:We.subheading},"Modern Finite Automaton Maker and Visualizer"),r.a.createElement(p.a,{style:We.main},r.a.createElement(ce.a,{style:We.modal,transparent:!0,isVisible:d,onBackdropPress:function(){return u(!1)}},d&&r.a.createElement(qe,{currMultipleInput:e.multipleInput,onSaveMultilineInput:function(t){u(!1),e.setMultipleInput(t)}})),null===i&&r.a.createElement(r.a.Fragment,null,r.a.createElement(He,{title:"Step by Step",onPress:function(){return l("stepByStep")}}),r.a.createElement(He,{title:"Run Multiple",onPress:function(){return l("multipleRun")}}),r.a.createElement(He,{title:"Save as Image",onPress:function(){return l("saveAsImage")}}),r.a.createElement(R.a,{selectedValue:w,onValueChange:E},r.a.createElement(R.a.Item,{label:"Random",value:"random"}),r.a.createElement(R.a.Item,{label:"Grid",value:"grid"}),r.a.createElement(R.a.Item,{label:"Circle",value:"circle"}),r.a.createElement(R.a.Item,{label:"Concentric",value:"concentric"}),r.a.createElement(R.a.Item,{label:"Breadthfirst",value:"breadthfirst"}),r.a.createElement(R.a.Item,{label:"Cose",value:"cose"}))),"multipleRun"===i&&r.a.createElement(r.a.Fragment,null,r.a.createElement(He,{title:"Load Inputs",onPress:function(){return u(!0)}}),r.a.createElement(He,{title:"Run Inputs",onPress:e.runMultipleInput}),r.a.createElement(Ie,{strings:x,configs:C,continueConfig:e.continueConfig,onConfigHover:v,onInputPress:function(e){b({target:{value:e}}),l("stepByStep")}})),"saveAsImage"===i&&r.a.createElement(r.a.Fragment,null,r.a.createElement(He,{title:"Save as PNG",onPress:function(){return S("image/png")}}),r.a.createElement(He,{title:"Save as JPEG",onPress:function(){return S("image/jpeg")}})),"stepByStep"===i&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,{inputString:f,onInputStringChange:b,isStepByStepStarted:k,onPlay:I,onNext:g}),k&&r.a.createElement(ye,{type:"tm",finalStates:m,rejected:h,configurations:y,onConfigHover:v}))),null!==i&&r.a.createElement(He,{color:"#9e9e9e",title:"Back",onPress:function(){return l(null)}}),null===i&&r.a.createElement(p.a,null,r.a.createElement(He,{title:"Share",onPress:e.onShare,disabled:e.isSharing}),r.a.createElement(He,{title:"Open Files/Examples",onPress:e.onViewOtherFiles})),r.a.createElement(Fe,{onViewInstructions:e.onViewInstructions}))}function He(e){return r.a.createElement(p.a,{style:We.navLink},r.a.createElement(I.a,e))}var We=h.a.create({side:{borderRightWidth:1,borderColor:"#e1e4e8",padding:20,height:"100%"},main:{overflow:"scroll",marginBottom:8,flex:1},modal:{alignItems:"center",backgroundColor:"white",borderColor:"rgba(0, 0, 0, 0.1)",borderRadius:4,justifyContent:"center",overflow:"hidden"},heading:{textAlign:"center"},subheading:{textAlign:"center",fontSize:13,paddingTop:4,paddingBottom:8},linkContainer:{borderTopColor:"rgba(0, 0, 0, 0.05)",borderTopWidth:1},linkBottom:{borderBottomColor:"rgba(0, 0, 0, 0.05)",borderBottomWidth:1},link:{display:"block",paddingBottom:8,paddingTop:8,paddingLeft:15,paddingRight:15,marginLeft:"-15px",marginRight:"-15px",color:"#818387",borderRadius:3},authorLinkContainer:{paddingBottom:10,paddingTop:10},authorLink:{color:"#71BCF7"},navLink:{paddingBottom:4,marginBottom:4}}),ze=a(134),Ne=a.n(ze);var Ke={container:{cursor:"pointer",padding:8,width:"100%"},heading:{fontWeight:"bold",fontSize:12},text:{fontSize:16}},Je=function(e){var t=Object(n.useCallback)(function(){Ne()(e.url)},[e.url]);return r.a.createElement("div",{className:"share-link",style:Ke.container,onClick:t},r.a.createElement("div",{style:Ke.heading},"Share Link: ",r.a.createElement("small",null,"(Click to copy)")),r.a.createElement("div",{style:Ke.text},e.url))},$e=a(97),Ue=a.n($e),Ve=Ue.a.mark(Xe);function Ge(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"bc";return Object(j.a)({},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"bc";return{hash:l()(),state:{data:{id:e}},input:t,unprocessed:t}}(e,t),{tape:t+P.repeat(Math.max(0,20-t.length)),head:0})}function Ye(e,t){var a=[];return e.forEach(function(e){if(t.state.data.id===e.source.data.id){var n=e.left,r=e.label,o=e.right,i=t.tape[t.head];if(i===n||n===P&&" "===i){var c=function(e,t,a){return e.substr(0,t)+a+e.substr(t+1)}(t.tape,t.head,r),s=function(e,t){if("L"===t)return e-1;if("R"===t)return e+1;throw new Error("Tape direction is invalid")}(t.head,o);s>=t.tape.length?c+=P.repeat(Math.min(100,t.tape.length)):s<0&&(c=P.repeat(Math.abs(s))+c,s=0),a.push({hash:l()(),parent:t,state:e.target,input:t.input,tape:c,head:s,unprocessed:""})}}}),a}function Ze(e,t){return e.has(t.state.data.id)}function Xe(e,t,a){var n,r,o,i,l,c,s,d,u,f,b=arguments;return Ue.a.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:n=b.length>3&&void 0!==b[3]?b[3]:100,r=b.length>4&&void 0!==b[4]?b[4]:Ye,o=b.length>5&&void 0!==b[5]?b[5]:Ze,i=function(e){return o(a,e)},l=[t],c=1,s=n;case 7:d=[],u=0;case 9:if(!(u<l.length)){g.next=15;break}if(!i(l[u])){g.next=12;break}return g.abrupt("return",l[u]);case 12:u++,g.next=9;break;case 15:f=0;case 16:if(!(f<l.length)){g.next=27;break}if(d=d.concat(r(e,l[f])),0!==--s){g.next=24;break}return g.next=22,c*n;case 22:s=n,c++;case 24:f++,g.next=16;break;case 27:l=d.slice();case 28:if(0!==l.length){g.next=7;break}case 29:return g.abrupt("return",null);case 30:case"end":return g.stop()}},Ve,this)}var Qe=a(98),et="$2a$10$C3/5kVnWddDXzV9lVUASCOjrO48j1B.hOzwcW9hvaKHWtqOswWgDC",tt="5cf3c85f3185c64c762b627c";function at(e){return JSON.stringify(Array.from(e).map(function(e){var t=Object(o.a)(e,2),a=t[0],n=t[1];return[a,Object(j.a)({},n,{source:n.source.data.id,target:n.target.data.id})]}))}function nt(e){return JSON.stringify(Array.from(e))}function rt(e,t){var a=t.statesDefault,r=t.transitionsDefault,i=t.finalStatesDefault,l=t.initialStateDefault,c=e("editor__states",a),s=Object(o.a)(c,2),d=s[0],u=s[1],f=e("editor__transitions",r),b=Object(o.a)(f,2),g=b[0],m=b[1],p=e("editor__finalStates",i),h=Object(o.a)(p,2),y=h[0],v=h[1],w=Object(n.useMemo)(function(){return JSON.parse(d)},[d]),E=Object(n.useCallback)(function(e){u(JSON.stringify(e))},[w]),S=e("editor__initialState",l),x=Object(o.a)(S,2),C=x[0],O=x[1],k=Object(n.useState)(""),_=Object(o.a)(k,2),R=_[0],I=_[1],B=e("editor__multipleInput","[]"),L=Object(o.a)(B,2),q=L[0],T=L[1],P=Object(n.useMemo)(function(){return JSON.parse(q)},[q]),M=Object(n.useCallback)(function(e){return T(JSON.stringify(e))},[T]),D=Object(n.useMemo)(function(){var e=new Map(w);w.map(function(t){return e.set(t.data.id,t)});var t=function(e,t){var a=JSON.parse(e);return new Map(a.map(function(e){var a=Object(o.a)(e,2),n=a[0],r=a[1];return[n,Object(j.a)({},r,{source:t.get(r.source),target:t.get(r.target)})]}))}(g,e),a=new Set(JSON.parse(y)),n=!0,r=!1,i=void 0;try{for(var l,c=t[Symbol.iterator]();!(n=(l=c.next()).done);n=!0){var s=l.value,d=Object(o.a)(s,2),u=d[0],f=d[1];f.source&&f.target||t.delete(u)}}catch(b){r=!0,i=b}finally{try{n||null==c.return||c.return()}finally{if(r)throw i}}return{transitions:t,finalStates:a,elements:[].concat(Object(Qe.a)(w.map(function(e){return Object(j.a)({},e,{classes:["dfa__state",C===e.data.id?"dfa__state--initial":"",a.has(e.data.id)?"dfa__state--final":""]})})),Object(Qe.a)(Array.from(t.values()).map(function(e){return{data:Object(j.a)({},e,{id:e.id,source:e.source.data.id,target:e.target.data.id,label:F(e)}),classes:"autorotate"}})))}},[]),A=D.elements,H=D.transitions,W=D.finalStates,z=Object(n.useCallback)(function(){m(at(H))},[]),N=Object(n.useCallback)(function(){v(nt(W))},[]),K=Object(n.useState)(!1),J=Object(o.a)(K,2),$=J[0],U=J[1];return[A,C,O,W,N,E,H,z,R,I,P,M,function(){U(!0);var e=JSON.stringify({type:"tm",initial:C,final:nt(W),states:d,transitions:at(H),multipleInput:q});return U(!1),fetch("https://api.jsonbin.io/b",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json","secret-key":et,"collection-id":tt,private:!1},body:e}).then(function(e){return U(!1),e.json()})},$]}var ot={data:{id:"q0",label:"q0"},position:{x:50,y:50}},it={data:{id:"q1",label:"q1"},position:{x:100,y:150}},lt={data:{id:"q2",label:"q2"},position:{x:150,y:50}},ct={data:{id:"q3",label:"q3"},position:{x:200,y:150}},st={data:{id:"q4",label:"q4"},position:{x:250,y:50}},dt=new Map([["q0",ot],["q1",it],["q2",lt],["q3",ct],["q4",st]]),ut=new Map([["q0-q1",{id:"q0-q1",source:ot,target:it,left:"a",label:"a",right:"R"}],["q0-q2",{id:"q0-q2",source:ot,target:lt,left:"b",label:"b",right:"R"}],["q0-q3",{id:"q0-q3",source:ot,target:ct,left:"",label:"",right:"R"}],["q3-q4",{id:"q3-q4",source:ct,target:st,left:"c",label:"c",right:"R"}],["q0-q0",{id:"q0-q0",source:ot,target:ot,left:"s",label:"s",right:"R"}]]),ft="q0",bt=new Set(["q4"]);var gt=function(){return rt(s.a,{statesDefault:JSON.stringify(Array.from(dt.values())),transitionsDefault:at(ut),finalStatesDefault:nt(bt),initialStateDefault:ft})},mt={statesDefault:JSON.stringify(Array.from(dt.values())),transitionsDefault:at(ut),finalStatesDefault:nt(bt),initialStateDefault:ft};var pt=function(e){return rt(function(e,t){return Object(n.useState)(t)},e||mt)};var ht=function(e){var t=e.finalStates,a=e.initialConfig,r=e.initialState,i=e.multipleInput,l=e.lazyResolveConfig,c=e.transitions,s=Object(n.useState)([]),d=Object(o.a)(s,2),u=d[0],f=d[1],b=Object(n.useCallback)(function(e){f(i.map(function(e){var n=l(c,a(r,e),t),o=n.next();return{resolver:n,value:o.value,done:o.done}}))},[i,f]),g=Object(n.useCallback)(function(e){f(u.map(function(t,a){if(e===a){var n=t.resolver,r=n.next();return{resolver:n,value:r.value,done:r.done}}return t}))});return[u,b,g]};function yt(e){var t,a=Object(n.useState)(!1),i=Object(o.a)(a,2),l=i[0],c=i[1],s=e.showModal,d=e.setShowModal,u=Object(m.d)(),f=Object(n.useCallback)(function(){d(!0),c(!1)},[d,c]),b=Object(n.useCallback)(function(){d(!0),c(!0)},[c]),p=e.initialStateData?pt(e.initialStateData):gt(),h=Object(o.a)(p,14),v=h[0],w=h[1],E=h[2],S=h[3],x=h[4],C=h[5],j=h[6],O=h[7],k=h[8],_=h[9],R=h[10],I=h[11],B=h[12],L=h[13],q=Object(n.useCallback)(function(){B().then(function(e){u.show(r.a.createElement(Je,{url:"".concat("","/diagram/").concat(e.id)}))})},B),T=Object(n.useRef)(null),P=Object(n.useState)(void 0),M=Object(o.a)(P,2),F=M[0],D=M[1],A=Object(n.useState)([Ge(w)]),W=Object(o.a)(A,2),z=W[0],K=W[1],J=ht({finalStates:S,initialConfig:Ge,initialState:w,multipleInput:R,lazyResolveConfig:Xe,transitions:j}),U=Object(o.a)(J,3),V=U[0],G=U[1],Y=U[2],Z=Object(n.useState)([]),X=Object(o.a)(Z,2),Q=X[0],ee=X[1],te=Object(n.useState)(null),ae=Object(o.a)(te,2),ne=ae[0],re=ae[1],oe=Object(n.useCallback)(function(e){C(e.filter(function(e){return"eh-handle"!==e.classes}).map(function(e){return{data:e.data,position:e.position,classes:e.classes}}))}),le=e.onLoadFile,ce=(t=T.current,Object(n.useCallback)(function(e){var a;if("image/jpeg"===e?a=t.jpeg():"image/png"===e&&(a=t.png()),a){var n=a.replace(/^data:image\/[^;]+/,"data:application/octet-stream");window.open(n)}},[t]));return r.a.createElement(y,{main:r.a.createElement(N,{main:r.a.createElement(H,{cy:function(e){T.current=e},layout:F,onNodesChange:oe,elements:v,finalStates:S,setFinalStates:x,initialState:w,setInitialState:E,transitions:j,setTransitions:O,stepping:z,configHovered:ne}),modal:l?r.a.createElement(ie,{onCancel:function(){return d(!1)},onLoadFile:le}):r.a.createElement($,{onClose:function(){return d(!1)}}),showModal:s}),side:r.a.createElement(Ae,{inputString:k,onInputStringChange:function(e){_(e.target.value)},onPlay:function(){K([Ge(w,k)]),ee([])},onNext:function(){for(var e=[],t=[],a=0;a<z.length;a++){var n=Ye(j,z[a]);0===n.length?t.push(z[a]):e.push(n)}K(g()(e)),ee(t)},finalStates:S,rejectedConfigs:Q,configs:z,continueConfig:Y,onConfigHover:function(e,t){re(t?e:null)},layout:F,setLayout:D,saveAsImage:ce,multipleInput:R,setMultipleInput:function(e){I(e)},runMultipleInput:G,multipleInputConfigs:V,isSharing:L,onShare:q,onViewInstructions:f,onViewOtherFiles:b})})}function vt(){return r.a.createElement(p.a,{style:wt.loading},r.a.createElement(K.a,{style:wt.loadingText},"Fetching Diagram Data..."),r.a.createElement(Se.PulseLoader,{color:"rgba(0, 0, 0, 1)",loading:!0,size:8,sizeUnit:"px"}))}var wt=h.a.create({loading:{alignItems:"center",justifyContent:"center",height:"100%"},loadingText:{fontSize:16,marginBottom:16}}),Et=function(e){var t=Object(n.useState)(!0),a=Object(o.a)(t,2),i=a[0],l=a[1],c=Object(n.useState)(null),s=Object(o.a)(c,2),d=s[0],u=s[1];return Object(n.useEffect)(function(){fetch("https://api.jsonbin.io/b/".concat(e.match.params.id,"/latest"),{headers:{"Content-Type":"application/json","secret-key":et,"collection-id":tt,private:!1}}).then(function(e){return e.json()}).then(function(e){u(function(){return{statesDefault:e.states,transitionsDefault:e.transitions,finalStatesDefault:e.final,initialStateDefault:e.initial}}),l(!1)})},[e.match.params.id]),i?r.a.createElement(vt,null):r.a.createElement(yt,Object.assign({initialStateData:d},e))};var St=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],i=t[1],c=s()("editor__hasShownTutorial",!1),u=Object(o.a)(c,2),b=u[0],g=u[1],m=Object(n.useState)(!b),p=Object(o.a)(m,2),h=p[0],y=p[1],v=f()().history,w=Object(n.useCallback)(function(e){g(!0),y(e)},[y]),E=Object(n.useCallback)(function(e){v.push("/"),window.localStorage.setItem("editor__states",e.states),window.localStorage.setItem("editor__transitions",e.transitions),window.localStorage.setItem("editor__finalStates",e.final),window.localStorage.setItem("editor__initialState",e.initial),window.localStorage.setItem("editor__multipleInput",e.multipleInput),i(l()()),w(!1)},[i]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.Route,{exact:!0,path:"/",render:function(e){return r.a.createElement(yt,Object.assign({},e,{key:a,onLoadFile:E,showModal:h,setShowModal:w}))}}),r.a.createElement(d.Route,{path:"/diagram/:id",render:function(e){return r.a.createElement(Et,Object.assign({},e,{onLoadFile:E,showModal:h,setShowModal:w}))}}))},xt=a(135),Ct={position:m.b.BOTTOM_CENTER,timeout:0,offset:"30px",transition:m.c.FADE};function jt(e){var t=e.style,a=(e.options,e.message),n=e.close;return r.a.createElement("div",{style:t},r.a.createElement("div",{style:Ot.container},r.a.createElement("div",{style:Ot.text},a),r.a.createElement("div",{onClick:n,style:Ot.closeButton},r.a.createElement("svg",{fill:"white",xmlns:"http://www.w3.org/2000/svg",height:"25",width:"25",viewBox:"0 0 48 48"},r.a.createElement("path",{d:"M38 12.83l-2.83-2.83-11.17 11.17-11.17-11.17-2.83 2.83 11.17 11.17-11.17 11.17 2.83 2.83 11.17-11.17 11.17 11.17 2.83-2.83-11.17-11.17z"}),r.a.createElement("path",{d:"M0 0h48v48h-48z",fill:"none"})))))}var Ot={container:{alignItems:"stretch",backgroundColor:"#333333",boxShadow:"0 8px 12px 0 rgba(0,0,0,0.3)",boxSizing:"border-box",color:"white",fontSize:"11px",position:"relative",width:300,display:"flex",justifyContent:"space-between"},closeButton:{display:"flex",alignItems:"center",justifyContent:"center",minWidth:"50px",borderRadius:"0 2px 2px 0",cursor:"pointer",top:0,right:0,backgroundColor:"#444"},button:{position:"absolute",right:4,top:4},text:{display:"flex",width:"100%",fontSize:12}},kt=function(e){return r.a.createElement(m.a,Object.assign({template:jt},Ct),e.children)};var _t=function(){return r.a.createElement(xt.a,null,r.a.createElement(kt,null,r.a.createElement(St,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Rt=a(83),It=(a(212),a(72)),Bt=a.n(It),Lt=a(136),qt=a.n(Lt),Tt=a(137),Pt=a.n(Tt),Mt=a(138),Ft=a.n(Mt);Bt.a.use(qt.a),Bt.a.use(Pt.a),Ft()(Bt.a),Rt.a.registerComponent("App",function(){return _t}),Rt.a.runApplication("App",{initialProps:{},rootTag:document.getElementById("root")}),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[143,2,1]]]);
//# sourceMappingURL=main.97946e4f.chunk.js.map