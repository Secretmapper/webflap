(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{128:function(e,t,n){e.exports=n(172)},129:function(e,t,n){},172:function(e,t,n){"use strict";n.r(t);n(129);var a=n(70),r=n(71),o=n(77),l=n(72),i=n(78),c=n(1),s=n.n(c),u=n(13),d=n(79),g=n(94),f=n(73),p=n.n(f),m=n(3),b=n(4);function h(e){return s.a.createElement(m.a,{style:v.container},s.a.createElement(m.a,{style:v.side},e.side),s.a.createElement(m.a,{style:v.main},e.main))}var v=b.a.create({container:{flex:1,flexDirection:"row"},main:{flexDirection:"column",flex:1},side:{flexDirection:"column",flexShrink:0,width:250}}),y=n(87),E=n(119),j=n.n(E),w=[{selector:"node",style:{"background-color":"white","background-image":"url(assets/circle.svg)","border-color":"black","border-width":1,color:"black",content:"data(label)",height:50,"text-valign":"center",width:50}},{selector:"node.dfa__state--final",style:{"background-fit":"cover","background-image":"url(assets/circle.svg)"}},{selector:"node.dfa__state--initial",style:{"border-color":"blue"}},{selector:"node.dfa__state--stepping",style:{"background-color":"#61bffc","transition-property":"background-color","transition-duration":"0.2s"}},{selector:"edge",style:{label:"data(label)","curve-style":"bezier","target-arrow-shape":"triangle",width:"1","text-background-color":"white","text-background-opacity":"1","text-background-shape":"rectangle"}},{selector:"node.dfa__state--config-hover",style:{"border-color":"#0d47a1","border-style":"dashed","border-width":2}},{selector:"edge.dfa__state--config-hover",style:{"line-color":"#0d47a1","line-style":"dashed","target-arrow-color":"#0d47a1",width:2}},{selector:"edge.autorotate",style:{"edge-text-rotation":"autorotate"}},{selector:".eh-handle",style:{"background-color":"red",width:12,height:12,shape:"ellipse","overlay-opacity":0,"border-width":12,"border-opacity":0}},{selector:".eh-hover",style:{"background-color":"red"}},{selector:".eh-source",style:{"border-width":2,"border-color":"red"}},{selector:".eh-target",style:{"border-width":2,"border-color":"red"}},{selector:".eh-preview, .eh-ghost-edge",style:{"background-color":"red","line-color":"red","target-arrow-color":"red","source-arrow-color":"red"}},{selector:".eh-ghost-edge.eh-preview-active",style:{opacity:0}}];var O=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(r.a)(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return s.a.createElement(j.a,this.props)}}]),t}(s.a.Component),S=b.a.create({container:{flex:1,backgroundColor:"#fefefe",width:"100%"},labelInput:{fontSize:14,outline:"none",position:"absolute",textAlign:"center",transform:[{translateX:"-50%"},{translateY:"-50%"}]}}),x=function(e){var t=Object(c.useRef)(null),n=Object(c.useRef)(null),a=Object(c.useState)(void 0),r=Object(u.a)(a,2),o=r[0],l=r[1],i=Object(c.useState)(e.stepping),d=Object(u.a)(i,2),g=d[0],f=d[1],p=Object(c.useState)(e.configHovered),b=Object(u.a)(p,2),h=b[0],v=b[1],E=Object(c.useState)(null),j=Object(u.a)(E,2),x=j[0],C=j[1];return Object(c.useEffect)(function(){var e,n=t.current,a=0;return function t(){a++,n.edges().animate({style:{"line-dash-offset":-a}}),e=requestAnimationFrame(t)}(),function(){e&&cancelAnimationFrame(e)}},["once"]),I(),k(),e.layout!==o&&(l(e.layout),t.current&&t.current.layout({name:e.layout}).run()),s.a.createElement(m.a,{style:S.container},s.a.createElement(O,{cy:function(a){t.current=a,e.cy(a);var r=t.current;r.edgehandles({preview:!1,edgeType:function(e,t){return e.edgesTo(t).empty()?"flat":null},complete:function(t,n,a){e.transitions.set(a.id(),{id:a.id,label:a.label,source:{data:t.data()},target:{data:n.data()}}),l({target:a.first()})}});var o=function(e){var t=e.target,a=t.renderedPosition(),r=a.x,o=a.y;t.data("label",""),C({x:r,y:o,id:t.id(),type:"node"}),n.current.focus()},l=function(e){var t=e.target,a=t.renderedMidpoint(),r=a.x,o=a.y;t.data("label",""),C({x:r,y:o,id:t.id(),type:"edge"}),n.current.focus()};r.on("tap",function(e){if((e.target||e.cyTarget)===r){var t=r.add({data:{id:"new"+Math.round(100*Math.random()),label:""},position:{x:e.position.x,y:e.position.y},classes:["dfa__state"]});o({target:t})}}),r.on("taphold","node.dfa__state",o),r.on("taphold","edge",l),I(),k()},layout:e.layout?{name:e.layout}:null,elements:e.elements,stylesheet:w,style:{height:"100%",width:"100%"}}),x&&s.a.createElement(y.a,{ref:n,style:[S.labelInput,{left:x.x,top:x.y}],onBlur:function(n){t.current.$("#".concat(x.id)).data("label",n.target.value);var a=e.transitions.get(x.id);a&&"edge"===x.type&&(a.label=n.target.value),C(null)}}));function I(){if(t.current&&e.stepping!==g){for(var n=0;n<g.length;n++)t.current.getElementById(g[n].state.data.id).removeClass("dfa__state--stepping");f(e.stepping);for(var a=0;a<e.stepping.length;a++)t.current.getElementById(e.stepping[a].state.data.id).addClass("dfa__state--stepping")}}function k(){if(t.current&&e.configHovered!==h)if(v(e.configHovered),e.configHovered){var n=e.configHovered;do{var a=t.current.getElementById(n.state.data.id);a.addClass("dfa__state--config-hover"),n.parent&&t.current.getElementById(n.parent.state.data.id).edgesTo(a).addClass("dfa__state--config-hover"),n=n.parent}while(n)}else if(h){var r=h;do{var o=t.current.getElementById(r.state.data.id);o.removeClass("dfa__state--config-hover"),r.parent&&t.current.getElementById(r.parent.state.data.id).edgesTo(o).removeClass("dfa__state--config-hover"),r=r.parent}while(r)}}},C=n(105),I=n(89),k=n(121),q=n.n(k),_=n(38);function P(e){return s.a.createElement(_.a,{accessibilityRole:"heading",style:[B.heading,e.style]},e.children)}var B=b.a.create({heading:{fontFamily:"montserrat",fontWeight:"400",fontSize:"2rem"}});function H(e,t){var n=[],a=t.unprocessed;return e.forEach(function(e){if(t.state.data.id===e.source.data.id){var r=e.label;a.startsWith(r)&&n.push({hash:""+Math.random(),parent:t,state:e.target,input:t.input,unprocessed:a.substr(r.length)})}}),n}function R(e,t){return 0===t.unprocessed.length&&-1!==e.indexOf(t.state.data.id)}function A(e,t,n){var a,r=[t];do{for(var o=0;o<r.length;o++)if(a=r[o],R(n,a))return r[o];r=p()(r.map(function(t){return H(e,t)}))}while(0!==r.length);return null}var M=n(21),T=n(19);function F(e,t){if("web"!==T.a.OS)return!1;var n=Object(c.useRef)(!1),a=Object(c.useState)(!1),r=Object(u.a)(a,2),o=r[0],l=r[1];return Object(c.useEffect)(function(){var a=function(e){var t=e&&(e.current||e);t&&t.getNode&&t.getNode()&&(t=t.getNode());t&&t._touchableNode&&(t=t._touchableNode);t&&t._node&&(t=t._node);"web"===T.a.OS&&(t=Object(M.findDOMNode)(t));return t}(e);if(a&&"function"===typeof a.addEventListener){var r=function(e){n.current!==e&&(n.current=e,t?t(e):l(e))},o=function(){return r(!0)},i=function(){return r(!1)};return a.addEventListener("mouseenter",o),a.addEventListener("mouseleave",i),function(){a&&(a.removeEventListener("mouseenter",o),a.removeEventListener("mouseleave",i))}}},[e&&e.current,t]),o}function L(e){return s.a.createElement(m.a,{style:z.container},e.rejected.map(function(t){return s.a.createElement(D,{rejected:!0,key:t.hash,config:t,onHover:e.onConfigHover,finalStates:e.finalStates})}),e.configurations.map(function(t){return s.a.createElement(D,{key:t.hash,config:t,onHover:e.onConfigHover,finalStates:e.finalStates})}))}function D(e){var t=Object(c.useRef)(null),n=Object(c.useState)(!1),a=Object(u.a)(n,2),r=a[0],o=a[1];return F(t,function(t){o(t),e.onHover(e.config,t)}),s.a.createElement(m.a,{ref:t,style:[z.config,!!r&&z.configHovered,e.rejected&&z.configRejected,R(e.finalStates,e.config)&&z.configFinal]},s.a.createElement(_.a,null,e.config.state.data.label),s.a.createElement(_.a,null,s.a.createElement(_.a,{style:z.processed},N(e.config)),s.a.createElement(_.a,{style:z.unprocessed},e.config.unprocessed)))}var N=function(e){return e.input.substr(0,e.input.length-e.unprocessed.length)},z=b.a.create({container:{flexDirection:"column"},config:{borderColor:"rgba(0, 0, 0, 0.1)",borderRadius:4,borderWidth:1,marginBottom:8,padding:8,cursor:"pointer",height:50},configHovered:{borderColor:"rgba(0, 0, 0, 0.15)",boxShadow:"0 3px 9px 0 rgba(46, 50, 60, .09)"},configRejected:{backgroundColor:"#ffebee"},configFinal:{backgroundColor:"#ccff90"},processed:{color:"green"},unprocessed:{color:"red"}}),W=n(56);function G(e){return s.a.createElement(m.a,null,e.strings.map(function(t,n){return s.a.createElement(V,{key:t,string:t,config:e.configs[n],onHover:e.onConfigHover,onInputPress:e.onInputPress})}))}function V(e){var t=Object(c.useRef)(null),n=Object(c.useState)(!1),a=Object(u.a)(n,2),r=a[0],o=a[1];F(t,function(t){o(t),e.onHover(e.config,t)}),Object(c.useEffect)(function(){return function(){e.onHover(e.config,!1)}},["once"]);var l=!!e.config;return s.a.createElement(W.a,{onPress:function(){return e.onInputPress(e.string)}},s.a.createElement(m.a,{ref:t,style:[J.row,l&&J.rowAccepted,!l&&J.rowRejected,l&&r&&J.rowHoveredAccepted,!l&&r&&J.rowHoveredRejected]},s.a.createElement(_.a,null,e.string)))}var J=b.a.create({row:{borderTopColor:"rgba(0,0,0,0.02)",borderRadius:2,borderTopWidth:1,cursor:"pointer",marginBottom:1,paddingLeft:8,paddingRight:8,paddingTop:4,paddingBottom:4},rowAccepted:{backgroundColor:"#ccff90"},rowRejected:{backgroundColor:"#ffebee"},rowHovered:{backgroundColor:"rgba(0,0,0,0.03)"},rowHoveredAccepted:{backgroundColor:"#b2fe7c"},rowHoveredRejected:{backgroundColor:"#ffd1d8"}}),U=n(127);function X(e){var t=Object(c.useState)(e.currMultipleInput.join("\n")),n=Object(u.a)(t,2),a=n[0],r=n[1];return s.a.createElement(m.a,{style:Y.container},s.a.createElement(m.a,{style:Y.column},s.a.createElement(P,{style:Y.heading},"Edit Test Input",s.a.createElement(_.a,{style:Y.headingSmall},"(separate test input by newline)")),s.a.createElement(y.a,{style:Y.editorText,value:a,onChange:function(e){r(e.target.value)},multiline:!0,placeholer:"Input cases"}),s.a.createElement(I.a,{title:"Save",onPress:function(t){e.onSaveMultilineInput(a.split("\n"))}})),s.a.createElement(m.a,{style:[Y.column,Y.columnEditor]},s.a.createElement(U.a,{accept:"text/plain",onDrop:function(t,n){0!==n.length&&alert("Please use plain/text (.txt) formats!");var a=new FileReader;a.onload=function(t){e.onSaveMultilineInput(t.target.result.split("\n"))},a.readAsText(t[0],"UTF-8")}},function(e){var t=e.getRootProps,n=e.getInputProps,a=e.isDragActive;return s.a.createElement("div",Object.assign({},t(),{style:Object(d.a)({},Y.upload,a?Y.uploadDragActive:{})}),a?"Drop files here...":s.a.createElement("div",null,s.a.createElement("div",{style:Y.uploadLabel},"Drag Input File"),s.a.createElement("small",{style:Y.uploadLabel},"or"),s.a.createElement("div",null,"Click to Browse Input File")),s.a.createElement("input",n()))})),s.a.createElement(m.a,{style:Y.or},s.a.createElement(_.a,{style:Y.orText},"OR")))}var Y=b.a.create({container:{position:"relative",flex:1,flexDirection:"row",height:"100%",width:"100%"},or:{position:"absolute",left:"50%",top:"50%",transform:[{translateX:"-50%"},{translateY:"-50%"}],alignItems:"center",justifyContent:"center",backgroundColor:"white",borderRadius:50,boxShadow:"0 0 16px rgba(0, 0, 0, 0.3)",height:60,width:60},orText:{fontSize:24},column:{padding:22,flex:1},heading:{fontSize:18,paddingBottom:4},headingSmall:{fontSize:13,marginLeft:4,color:"#808080"},columnEditor:{backgroundColor:"#efefef"},editorText:{boxShadow:"inset 0 0 4px #b0b0b0",height:"100%",padding:8,marginTop:4,marginBottom:4,lineHeight:18,outline:"none"}});function $(e){return s.a.createElement(m.a,null,s.a.createElement(y.a,{value:e.inputString,onChange:e.onInputStringChange,style:K.input,placeholder:"Input String"}),s.a.createElement(m.a,{style:K.controls},s.a.createElement(I.a,{style:K.control,title:"Play",onPress:e.onPlay}),s.a.createElement(m.a,{style:K.controlGap}),s.a.createElement(I.a,{style:K.control,title:"Next",onPress:e.onNext})))}Y.upload={borderWidth:2,borderStyle:"dashed",borderColor:"#e0e0e0",cursor:"pointer",display:"flex",flex:1,flexDirection:"column",alignContent:"center",justifyContent:"center",height:"100%",color:"#909090",fontSize:24,textAlign:"center"},Y.uploadDragActive={color:"#2096F3",borderColor:"#2096F3"},Y.uploadLabel={display:"block",paddingBottom:8};var K=b.a.create({input:{backgroundColor:"rgba(240, 240, 240, 1)",fontSize:14,marginBottom:4,outline:"none",padding:8},controls:{flexDirection:"row",marginBottom:8},controlGap:{width:4}});function Q(e){var t=Object(c.useState)(null),n=Object(u.a)(t,2),a=n[0],r=n[1],o=Object(c.useState)(!1),l=Object(u.a)(o,2),i=l[0],d=l[1],g=e.inputString,f=e.onInputStringChange,p=e.onPlay,b=e.onNext,h=e.finalStates,v=e.rejectedConfigs,y=e.configs,E=e.onConfigHover,j=e.layout,w=e.setLayout,O=e.saveAsImage,S=e.multipleInput,x=e.multipleInputConfigs;return s.a.createElement(m.a,{style:ee.side},s.a.createElement(P,{style:ee.heading},"WebFLAP"),s.a.createElement(P,{style:ee.subheading},"Modern Finite Automaton Maker and Visualizer"),s.a.createElement(m.a,{style:ee.main},s.a.createElement(q.a,{style:ee.modal,transparent:!0,isVisible:i,onBackdropPress:function(){return d(!1)}},i&&s.a.createElement(X,{currMultipleInput:e.multipleInput,onSaveMultilineInput:function(t){d(!1),e.setMultipleInput(t)}})),null===a&&s.a.createElement(s.a.Fragment,null,s.a.createElement(Z,{title:"Step by Step",onPress:function(){return r("stepByStep")}}),s.a.createElement(Z,{title:"Run Multiple",onPress:function(){return r("multipleRun")}}),s.a.createElement(Z,{title:"Save as Image",onPress:function(){return r("saveAsImage")}}),s.a.createElement(C.a,{selectedValue:j,onValueChange:w},s.a.createElement(C.a.Item,{label:"Random",value:"random"}),s.a.createElement(C.a.Item,{label:"Grid",value:"grid"}),s.a.createElement(C.a.Item,{label:"Circle",value:"circle"}),s.a.createElement(C.a.Item,{label:"Concentric",value:"concentric"}),s.a.createElement(C.a.Item,{label:"Breadthfirst",value:"breadthfirst"}),s.a.createElement(C.a.Item,{label:"Cose",value:"cose"}))),"multipleRun"===a&&s.a.createElement(s.a.Fragment,null,s.a.createElement(Z,{title:"Load Inputs",onPress:function(){return d(!0)}}),s.a.createElement(G,{strings:S,configs:x,onConfigHover:E,onInputPress:function(e){f({target:{value:e}}),r("stepByStep")}})),"saveAsImage"===a&&s.a.createElement(s.a.Fragment,null,s.a.createElement(Z,{title:"Save as PNG",onPress:function(){return O("image/png")}}),s.a.createElement(Z,{title:"Save as JPEG",onPress:function(){return O("image/jpeg")}})),"stepByStep"===a&&s.a.createElement(s.a.Fragment,null,s.a.createElement($,{inputString:g,onInputStringChange:f,onPlay:p,onNext:b}),s.a.createElement(L,{finalStates:h,rejected:v,configurations:y,onConfigHover:E}))),null!==a&&s.a.createElement(Z,{color:"#9e9e9e",title:"Back",onPress:function(){return r(null)}}))}function Z(e){return s.a.createElement(m.a,{style:ee.navLink},s.a.createElement(I.a,e))}var ee=b.a.create({side:{borderRightWidth:1,borderColor:"#e1e4e8",padding:20,height:"100%"},main:{overflow:"scroll",marginBottom:8,flex:1},modal:{alignItems:"center",backgroundColor:"white",borderColor:"rgba(0, 0, 0, 0.1)",borderRadius:4,justifyContent:"center",overflow:"hidden"},heading:{textAlign:"center"},subheading:{textAlign:"center",fontSize:13,paddingTop:4,paddingBottom:8},navLink:{paddingBottom:4,marginBottom:4}}),te={data:{id:"q0",label:"q0"},position:{x:50,y:50}},ne={data:{id:"q1",label:"q1"},position:{x:100,y:150}},ae={data:{id:"q2",label:"q2"},position:{x:150,y:50}},re={data:{id:"q3",label:"q3"},position:{x:200,y:150}},oe={data:{id:"q4",label:"q4"},position:{x:250,y:50}},le=new Map([["q0",te],["q1",ne],["q2",ae],["q3",re],["q4",oe]]),ie=new Map([["q0-q1",{id:"q0-q1",source:te,target:ne,label:"a"}],["q0-q2",{id:"q0-q2",source:te,target:ae,label:"b"}],["q0-q3",{id:"q0-q3",source:te,target:re,label:"b"}],["q3-q4",{id:"q0-q4",source:re,target:oe,label:"c"}],["q0-q0",{id:"q0-q0",source:te,target:te,label:"s"}]]),ce=["q4"],se=[].concat(Object(g.a)(Array.from(le.values()).map(function(e){return Object(d.a)({},e,{classes:["dfa__state","q0"===e.data.id?"dfa__state--initial":"",-1!==ce.indexOf(e.data.id)?"dfa__state--final":""]})})),Object(g.a)(Array.from(ie.values()).map(function(e){return{data:{id:e.id,source:e.source.data.id,target:e.target.data.id,label:e.label},classes:"autorotate"}}))),ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"bc";return{hash:""+Math.random(),state:le.get("q0"),input:e,unprocessed:e}};function de(){var e=Object(c.useRef)(null),t=Object(c.useState)([ue()]),n=Object(u.a)(t,2),a=n[0],r=n[1],o=Object(c.useState)(void 0),l=Object(u.a)(o,2),i=l[0],d=l[1],g=Object(c.useState)(null),f=Object(u.a)(g,2),m=f[0],b=f[1],v=Object(c.useState)(["b","bc","ssbc","ss","abc"]),y=Object(u.a)(v,2),E=y[0],j=y[1],w=Object(c.useState)(E.map(function(e){return A(ie,ue(e),ce)})),O=Object(u.a)(w,2),S=O[0],C=O[1],I=Object(c.useState)([]),k=Object(u.a)(I,2),q=k[0],_=k[1],P=Object(c.useState)("bc"),B=Object(u.a)(P,2),R=B[0],M=B[1];return s.a.createElement(h,{main:s.a.createElement(x,{cy:function(t){e.current=t},layout:i,elements:se,transitions:ie,stepping:a,configHovered:m}),side:s.a.createElement(Q,{inputString:R,onInputStringChange:function(e){M(e.target.value)},onPlay:function(){r([ue(R)])},onNext:function(){for(var e=[],t=[],n=0;n<a.length;n++){var o=H(ie,a[n]);0===o.length?t.push(a[n]):e.push(o)}r(p()(e)),_(t)},finalStates:ce,rejectedConfigs:q,configs:a,onConfigHover:function(e,t){b(t?e:null)},layout:i,setLayout:d,saveAsImage:function(t){var n;if("image/jpeg"===t?n=e.current.jpeg():"image/png"===t&&(n=e.current.png()),n){var a=n.replace(/^data:image\/[^;]+/,"data:application/octet-stream");window.open(a)}},multipleInput:E,setMultipleInput:function(e){j(e),C(e.map(function(e){return A(ie,ue(e),ce)}))},multipleInputConfigs:S})})}var ge=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return s.a.createElement(de,null)}}]),t}(c.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var fe=n(104),pe=(n(168),n(86)),me=n.n(pe),be=n(126),he=n.n(be);me.a.use(he.a),fe.a.registerComponent("App",function(){return ge}),fe.a.runApplication("App",{initialProps:{},rootTag:document.getElementById("root")}),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[128,2,1]]]);
//# sourceMappingURL=main.7e04fff5.chunk.js.map